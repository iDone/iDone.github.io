<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>@iYoungDone&#39;s Hexo Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="An My GitHub Hexo Blog. http:&#x2F;&#x2F;www.appleos.xyz">
<meta property="og:type" content="website">
<meta property="og:title" content="@iYoungDone&#39;s Hexo Blog">
<meta property="og:url" content="http://www.appleos.xyz/index.html">
<meta property="og:site_name" content="@iYoungDone&#39;s Hexo Blog">
<meta property="og:description" content="An My GitHub Hexo Blog. http:&#x2F;&#x2F;www.appleos.xyz">
<meta property="og:locale">
<meta property="article:author" content="YoungDone(B.S.)">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="@iYoungDone&#39;s Hexo Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">@iYoungDone&#39;s Hexo Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.appleos.xyz"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-穿山甲软件保护系统SoftwarePassport Armadillo KeyGen" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/01/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9FSoftwarePassport%20Armadillo%20KeyGen/" class="article-date">
  <time datetime="2018-05-31T17:33:00.000Z" itemprop="datePublished">2018-06-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a>►<a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E6%B3%A8%E5%86%8C%E6%9C%BA-KeyGen/">注册机(KeyGen)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/01/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9FSoftwarePassport%20Armadillo%20KeyGen/">穿山甲软件保护系统SoftwarePassport Armadillo KeyGen</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Created by  B.S.</p>
<p>June 1, 2018 12:33 AM</p>
<p><em>如果您觉得还行,可以点本文尾部的赞赏支持一下,金额随意O(∩_∩)O~</em></p>
<blockquote>
<p>“奔走红尘，莫忘曾经是书生”</p>
</blockquote>
<p><strong>仅供学习研究,请勿用作商业用途,如若喜欢请支持正版!</strong></p>
<p>注册机下载(暂不提供):</p>
<p><a target="_blank" rel="noopener" href="http://arma.sourceforge.net/">百度下载</a></p>
<p><img src="/images/Armadillo-AppleOS-Key.png" alt="Armadillo-AppleOS-Key.png"></p>
<h3 id="六·一-儿童节快乐-提供几组注册码给广大网友试用"><a href="#六·一-儿童节快乐-提供几组注册码给广大网友试用" class="headerlink" title="六·一 儿童节快乐  提供几组注册码给广大网友试用"></a>六·一 儿童节快乐  提供几组注册码给广大网友试用</h3><p>(理论上x86和x64版本都可以永久使用,该软件已停止更新和开发)</p>
<hr>
<ul>
<li><a href="Www.ChinaPYG.Com">Www.ChinaPYG.Com</a> 授权许可证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Www.ChinaPYG.Com</span><br><span class="line">000014-QK06FX-T8EG6M-PTNC3H-NBDQPX-31C14N-DQ5R20-902U0M-MW6BWW-6161CC</span><br><span class="line">000014-QK06FX-T8EN4P-KB98U7-XQKGQP-1DT72C-Y3NZZH-FAW875-QU7VHB-GE5E5E</span><br><span class="line">000014-QK06FX-T8EMDZ-B3EBXZ-ZYGEWX-8TB1D8-YC9N7P-UY4FB7-01X9YK-YHD799</span><br><span class="line">000014-QK06FX-T8EZ0Z-CMJ98M-MFGP3V-FN5991-YAN1UD-XZFVAT-JPCKJ2-9DRAEE</span><br><span class="line">000014-QK06FX-T8EGHB-3C8C4Z-RPEQNE-CHJPE4-Q2H2CT-XZW9HT-GQGQXU-5HCREE</span><br><span class="line">000014-QK06FX-T8EHY7-W5HXPW-V5GUAE-7EZDFW-9VTM45-JECF75-XG4Q0Q-TD222Q</span><br></pre></td></tr></table></figure>


<ul>
<li><a href="Www.52PoJie.Cn">Www.52PoJie.Cn</a> 授权许可证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Www.52PoJie.Cn</span><br><span class="line">000016-K84JU8-QYDVJJ-N5T6NM-KX9ZZ4-UCH5CP-203PQR-DH2BVH-TW0EWJ-JKFGGG</span><br><span class="line">000016-K84JU8-QYDYBK-W67TJ0-AT9EB8-BE0Q7C-0T7D4T-39HV0Q-0FU2GG-J220EE</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="Www.PeDiy.Com">Www.PeDiy.Com</a> 授权许可证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Www.PeDiy.Com</span><br><span class="line">000016-476M1Q-CKXDYK-AETNRR-H6KY8A-5U2K9U-1ETNZZ-G7UKDH-PNM7G7-AWG033</span><br><span class="line">000016-476M1Q-CKX0GQ-DDCGHT-XJB7NP-HGU6ZR-9M61F7-Z7V6EB-GCVZVX-FPUEXX</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><a href="Www.AppleOS.Xyz">Www.AppleOS.Xyz</a> 授权许可证(本站)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Www.AppleOS.Xyz</span><br><span class="line">000017-6N6PMH-FHFAP9-XZ8T0K-XQHPH3-X30BZZ-HPPWM2-RQKQR5-HYCA49-JP6Z77</span><br><span class="line">000017-6N6PMH-FHF08Z-R68U0U-B0PNDM-PXF721-MC8K4Y-H6GMBW-EKVMM2-3Z4J00</span><br><span class="line">000017-6N6PMH-FHF44J-N12K4M-ZFGW8F-0R6DQT-Y364TG-EN253R-FD2ATF-C8AWDD</span><br><span class="line">000017-6N6PMH-FHF42D-FAGEM1-U9PJ63-ANF4BD-8R424H-VJ2G5K-XVBNFZ-KWFJ99</span><br><span class="line">000017-6N6PMH-FHF98R-CBQECH-JK8ZMM-9MZCT0-MNQAYZ-7832HE-5GFQ3Q-A0DKQQ</span><br><span class="line">000017-6N6PMH-FHF34F-E09PNQ-91E52U-34WRMR-W5Z4J3-KZ0BJT-VU1MUC-821H88</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="Www.Allin1.Xyz">Www.Allin1.Xyz</a> 授权许可证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Www.Allin1.Xyz</span><br><span class="line">000014-WD19PD-KXB38D-BWJG2W-MBZZ2W-M6KUKA-G6CWWG-439WCQ-WZ0HW9-ZR2T66</span><br><span class="line">000014-WD19PD-KXBCKF-0DGZBM-K85M55-378B6N-3B3CT8-KW97AD-VUMCP6-0GDPEE</span><br></pre></td></tr></table></figure>

<ul>
<li>本人专用 授权许可证</li>
</ul>
<pre><code>B.S.
000014-X9AWTX-UZ2Q3K-2ZY26W-WDHGH9-9D9UYU-UB48MX-QDKKD8-QTE0ND-7N7BJJ
000014-X9AWTX-UZ2Y3V-99HHW4-MCRD4F-ADB5EC-E6NJDD-ZG2CZR-CVNDY1-F20WUU
000014-X9AWTX-UZ2ZTG-F1WQG7-C7FTXC-9H96BY-WZ82YX-R140Y2-KDQB4C-Z29FKK
000014-X9AWTX-UZ2JAF-KU24JV-3TN07M-4XUQK1-U7EYX4-MGHBNT-2PY71J-XWFBJJ
000014-X9AWTX-UZ2M1H-V4G6JR-P5QKM8-D17GRQ-B4P1W7-3FY319-DHMBCB-CABWVV
000014-X9AWTX-UZ2TAH-0N0KZR-YQJEQ9-XJB21V-1630TG-67EQQD-689CJU-078C99
000014-X9AWTX-UZ2H8V-564F26-86WY3Q-FGUA6X-Q9TYRF-15PNQR-JJ04Y6-1UF2QQ
000014-X9AWTX-UZ2TKR-28J0BZ-XJG35V-HBG834-573UZN-7JHB2F-UWVKYF-J77N66
```

![Armadillo-KeyGen.png](/images/Armadillo-KeyMaker.png)
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2018/06/01/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9FSoftwarePassport%20Armadillo%20KeyGen/" data-id="cl3j4iurb000s49jecino296l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Armadillo/" rel="tag">Armadillo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ECC/" rel="tag">ECC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ECDSA/" rel="tag">ECDSA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ECDSA%E7%A7%81%E9%92%A5/" rel="tag">ECDSA私钥</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Key/" rel="tag">Key</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KeyGen/" rel="tag">KeyGen</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KeyMaker/" rel="tag">KeyMaker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/License/" rel="tag">License</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SoftwarePassport/" rel="tag">SoftwarePassport</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/patch%E5%85%AC%E9%92%A5/" rel="tag">patch公钥</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E7%AE%97%E6%B3%95/" rel="tag">椭圆曲线算法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A9%BF%E5%B1%B1%E7%94%B2%E5%A3%B3/" rel="tag">穿山甲壳</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9F/" rel="tag">穿山甲软件保护系统</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Supercharger(VisualStudio插件)AES高级加密标准(Rijndael算法)注册机KeyMaker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/04/Supercharger(VisualStudio%E6%8F%92%E4%BB%B6)AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86(Rijndael%E7%AE%97%E6%B3%95)%E6%B3%A8%E5%86%8C%E6%9C%BAKeyMaker/" class="article-date">
  <time datetime="2018-02-04T13:22:00.000Z" itemprop="datePublished">2018-02-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a>►<a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E6%B3%A8%E5%86%8C%E6%9C%BA-KeyGen/">注册机(KeyGen)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/04/Supercharger(VisualStudio%E6%8F%92%E4%BB%B6)AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86(Rijndael%E7%AE%97%E6%B3%95)%E6%B3%A8%E5%86%8C%E6%9C%BAKeyMaker/">Supercharger(VisualStudio插件)AES高级加密标准(Rijndael算法)注册机KeyMaker</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Created by  B.S.</p>
<p>February 5, 2018 9:22:33 PM</p>
<p>小弟不才,利用业余时间,一锅端了VS10X系列的三个插件和Supercharger插件,<br>至此 Michael Kiss [BG8] 的所有VisualStudio插件完爆.<br>第一次逆向AES高级加密标准(Rijndael算法),就遇到不可视字符的强混淆,君莫笑.</p>
<p><em>如果您觉得还行,可以点本文尾部的赞赏支持一下,金额随意O(∩_∩)O~</em></p>
<blockquote>
<p>“奔走红尘，莫忘曾经是书生”</p>
</blockquote>
<p><strong>仅供学习研究,请勿用作商业用途,如若喜欢请支持正版!</strong></p>
<p>注册机下载(暂不提供):</p>
<p><a href="/uploads/codes/SuperchargerKeyGen.exe">百度下载</a></p>
<p><img src="/images/Supercharger-AES-KeyGen.jpg" alt="Supercharger-AES-KeyGen"></p>
<p><img src="/images/Supercharger-AES-KeyGen-MacOS.png" alt="SuperchargerKeyGenForMacOS"></p>
<h3 id="提供几组注册码给广大网友试用"><a href="#提供几组注册码给广大网友试用" class="headerlink" title="提供几组注册码给广大网友试用"></a>提供几组注册码给广大网友试用</h3><p>(算法不变的情况下可以永久使用)</p>
<hr>
<ul>
<li>Supercharger 商业版授权许可证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tt4e2HN4X3ggeKGEaLHimXqdrrC6zMcJU26+l9QHaO+Y6k3+vqhCgVyIn/TleZhBfhicAb4ndUfmNUp3QnHPaDYLP68ZpqnyJ2rg3M5vILHetTi/EwUp3q+USoXUcqx0Evjzbp3lK8H</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tt4e2HN4X3gGfGtqcGOm0G3PF10efSFEIwlsy1iG9q+sFIry6+cv8qn5Odn7ptpfwqooAsbOWDhMyGcLQ/d/FOaVAPSLUT6S2GsQf0T1wNqgpm73t3t4wnSDrbnsm65Ces60f77DtTl</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tt4e2HN4X3geZ3VCRMW0HgLWFrxEc5HRH7hj6sZRDh4gC1AQTOaNLMEyIHLnkRElFnRxFBhHuz1b5hbmd7aLtJxr+hr9+1PgskD/8PUoAp0wzZ2qf+smoa7HhYRz0HVuuEiiFOYr0lm</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tt4e2HN4X3gL3hZN+cq9XVHt9srW459P8WsGFWPxaNdS9Pr8LjjVRFPBQtRO2b5QWvHADdEOL69bSG+RsVMJkU+brXGm+Z7InqHgWDlCaXqg0uKqe6sGUC2tlfDiOWtHLimlvFas/+O</span><br></pre></td></tr></table></figure>

<ul>
<li>Supercharger 个人专业版授权许可证</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6pAF3t43w9B+eUQ+tFVjzAQAnweFm+cJ5cTVvenQT+EQTxW8EO4P6aVp6VCmLXafi6E/Ie1m4q4yq3ty6KoqlQ6mDYHbM48jSv+WXKcR/YPQab+yIulqX9qfKW7brPx02mjzIPOx</span><br></pre></td></tr></table></figure>

<ul>
<li>Supercharger 个人版授权许可证(仅适用于VisualStudio社区版)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6kDE7f22Q5pDY/7cYI1igalmapWahx+A8WyYz6NymOQHjtgDH6JJslzlEtbc4z8U3zMcTJByBSyyBx0KtlxfWrXQq62jOsWuncXUncqK3wGNcJqwfe1Aq2FfdcHNQzsqdsieleQt</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>VS10x CodeMAP 注册码</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#$aLpbUGWYtw9gYWOppNS55c0yXZzNtGX2mVTYMoVHUR8wjZI/GxtRUYTTwDiF4b1D7F858Y3j/uWr+VEWgcbIsWIMx7ly1w2DmEWdV4CV3uM9whtx/lB4KxdBCqlASMdSp</span><br></pre></td></tr></table></figure>

<ul>
<li>VS10x Editor View Enhancer 注册码</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#$bKI8RFwZkTg7C3a6dAg2xJB2Fpx45hU8tddnwcVFGWTA/KuNvvpld+tTTFODBrmN8Lbhqk/bGYnJg8MkVqpF0PV12as+BfhpOGEbMUW4qf+zcXyhvRP9v75SPaKuGBJ8H</span><br></pre></td></tr></table></figure>

<ul>
<li>VS10x Comment Extender 注册码</li>
</ul>
<pre><code>#$cyONtjA7dBJsE78MBifkQDAmsVd/lnyjjBydFu+zQE6EhsoQmL894gNATrYd+hDHxm5plKa+UoPVZZ+3spALHkF/ebK4VLURnUHxRJawlMseeebp5DaOyUMwcE43Cjxsy
```
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2018/02/04/Supercharger(VisualStudio%E6%8F%92%E4%BB%B6)AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86(Rijndael%E7%AE%97%E6%B3%95)%E6%B3%A8%E5%86%8C%E6%9C%BAKeyMaker/" data-id="cl3j4iuqr000349jeasvh8xb5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Net/" rel="tag">.Net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Net-Core/" rel="tag">.Net Core</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86/" rel="tag">AES高级加密标准</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CodeMap/" rel="tag">CodeMap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CodeMap%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">CodeMap注册码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CodeMap%E8%AE%B8%E5%8F%AF%E8%AF%81/" rel="tag">CodeMap许可证</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Comment-Extender/" rel="tag">Comment Extender</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Crack/" rel="tag">Crack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Editor-View-Enhancer/" rel="tag">Editor View Enhancer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JetBrains-decompiler/" rel="tag">JetBrains decompiler</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Key/" rel="tag">Key</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KeyGen/" rel="tag">KeyGen</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KeyMaker/" rel="tag">KeyMaker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/License/" rel="tag">License</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reflector/" rel="tag">Reflector</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rijndael%E7%AE%97%E6%B3%95/" rel="tag">Rijndael算法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Supercharger/" rel="tag">Supercharger</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Supercharger%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">Supercharger注册码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Supercharger%E8%AE%B8%E5%8F%AF%E8%AF%81/" rel="tag">Supercharger许可证</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VS10X/" rel="tag">VS10X</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VisualStudio%E6%8F%92%E4%BB%B6/" rel="tag">VisualStudio插件</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/axtools%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">axtools注册码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dnSpy/" rel="tag">dnSpy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dotPeek/" rel="tag">dotPeek</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B3%A8%E5%86%8C%E6%9C%BA/" rel="tag">注册机</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">注册码</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%B8%E5%8F%AF%E8%AF%81/" rel="tag">许可证</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-修改android_server默认调试端口号反调试" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/25/%E4%BF%AE%E6%94%B9android_server%E9%BB%98%E8%AE%A4%E8%B0%83%E8%AF%95%E7%AB%AF%E5%8F%A3%E5%8F%B7%E5%8F%8D%E8%B0%83%E8%AF%95/" class="article-date">
  <time datetime="2017-07-25T04:06:00.000Z" itemprop="datePublished">2017-07-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a>►<a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E7%A0%B4%E8%A7%A3-Crack/">破解(Crack)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/25/%E4%BF%AE%E6%94%B9android_server%E9%BB%98%E8%AE%A4%E8%B0%83%E8%AF%95%E7%AB%AF%E5%8F%A3%E5%8F%B7%E5%8F%8D%E8%B0%83%E8%AF%95/">修改android_server默认调试端口号反调试</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="修改android-server默认调试端口号反调试"><a href="#修改android-server默认调试端口号反调试" class="headerlink" title="修改android_server默认调试端口号反调试"></a><strong>修改android_server默认调试端口号反调试</strong></h1><hr>
<p>July 25, 2017 12:06 PM</p>
<h3 id="IDA载入文件android-server分析"><a href="#IDA载入文件android-server分析" class="headerlink" title="IDA载入文件android_server分析"></a>IDA载入文件android_server分析</h3><p>android_server默认调试端口号是: ==23946==, 十六进制值为: ==0x5D8A==</p>
<p>==Shift+F12== 查找字符串</p>
<blockquote>
<p>.rodata:00074224 0000004A C IDA Android 32-bit remote debug server(ST) v1.%d. Hex-Rays (c) 2004-2015\n</p>
<p>.rodata:00074160 0000000D C init_sockets</p>
</blockquote>
<p>点击数据交叉来到代码区</p>
<h5 id="第一处"><a href="#第一处" class="headerlink" title="第一处:"></a>第一处:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">.text:0000B620                               loc_B620                                ; CODE XREF: sub_B5DC+22j</span><br><span class="line">.text:0000B620 A9 4B                                         LDR     R3, =(off_7FBD0 - 0xB62A)</span><br><span class="line">.text:0000B622 AA 48                                         LDR     R0, =(aIdaAndroid32Bi - 0xB62E)</span><br><span class="line">.text:0000B624 13 21                                         MOVS    R1, #0x13</span><br><span class="line">.text:0000B626 7B 44                                         ADD     R3, PC ; off_7FBD0</span><br><span class="line">.text:0000B628 1B 68                                         LDR     R3, [R3] ; unk_80BB0</span><br><span class="line">.text:0000B62A 78 44                                         ADD     R0, PC          ; &quot;IDA Android 32-bit remote debug server(&quot;...</span><br><span class="line">.text:0000B62C 1D 78                                         LDRB    R5, [R3]</span><br><span class="line">.text:0000B62E 04 F0 AB FC                                   BL      sub_FF88</span><br><span class="line">.text:0000B632 01 2E                                         CMP     R6, #1</span><br><span class="line">.text:0000B634 1C DD                                         BLE     loc_B670</span><br><span class="line">.text:0000B636 62 68                                         LDR     R2, [R4,#4]</span><br><span class="line">.text:0000B638 13 78                                         LDRB    R3, [R2]</span><br><span class="line">.text:0000B63A 02 22                                         MOVS    R2, #2</span><br><span class="line">.text:0000B63C 93 43                                         BICS    R3, R2</span><br><span class="line">.text:0000B63E 2D 2B                                         CMP     R3, #0x2D</span><br><span class="line">.text:0000B640 16 D1                                         BNE     loc_B670</span><br><span class="line">.text:0000B642 00 2D                                         CMP     R5, #0</span><br><span class="line">.text:0000B644 00 D1                                         BNE     loc_B648</span><br><span class="line">.text:0000B646 9F E1                                         B       loc_B988</span><br><span class="line">.text:0000B648                               ; ---------------------------------------------------------------------------</span><br><span class="line">.text:0000B648</span><br><span class="line">.text:0000B648                               loc_B648                                ; CODE XREF: sub_B5DC+68j</span><br><span class="line">.text:0000B648 A1 4B                                         LDR     R3, =(dword_8074C - 0xB652)</span><br><span class="line">.text:0000B64A A2 4A                                         LDR     R2, =(dword_8074C - 0xB654)</span><br><span class="line">.text:0000B64C A2 4D                                         LDR     R5, =0x5D8A</span><br><span class="line">.text:0000B64E 7B 44                                         ADD     R3, PC ; dword_8074C</span><br><span class="line">.text:0000B650 7A 44                                         ADD     R2, PC ; dword_8074C</span><br><span class="line">.text:0000B652 99 46                                         MOV     R9, R3</span><br><span class="line">.text:0000B654 01 27                                         MOVS    R7, #1</span><br><span class="line">.text:0000B656 90 46                                         MOV     R8, R2</span><br><span class="line">.text:0000B658</span><br><span class="line">.text:0000B658                               loc_B658                                ; CODE XREF: sub_B5DC+2BAj</span><br><span class="line">.text:0000B658 63 68                                         LDR     R3, [R4,#4]</span><br><span class="line">.text:0000B65A 58 78                                         LDRB    R0, [R3,#1]</span><br><span class="line">.text:0000B65C 50 38                                         SUBS    R0, #0x50       ; switch 39 cases</span><br><span class="line">.text:0000B65E 26 28                                         CMP     R0, #0x26</span><br><span class="line">.text:0000B660 00 D8                                         BHI     def_B826        ; jumptable 0000B826 default case</span><br><span class="line">.text:0000B662 E0 E0                                         B       loc_B826</span><br></pre></td></tr></table></figure>

<h5 id="第二处"><a href="#第二处" class="headerlink" title="第二处:"></a>第二处:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.text:0000B97E                               loc_B97E                                ; CODE XREF: sub_B5DC+C2j</span><br><span class="line">.text:0000B97E 30 49                                         LDR     R1, =(aInit_sockets - 0xB986)</span><br><span class="line">.text:0000B980 00 20                                         MOVS    R0, #0</span><br><span class="line">.text:0000B982 79 44                                         ADD     R1, PC          ; &quot;init_sockets&quot;</span><br><span class="line">.text:0000B984 00 F0 EC FC                                   BL      sub_C360</span><br><span class="line">.text:0000B988                               ; ---------------------------------------------------------------------------</span><br><span class="line">.text:0000B988</span><br><span class="line">.text:0000B988                               loc_B988                                ; CODE XREF: sub_B5DC+6Aj</span><br><span class="line">.text:0000B988 2E 4B                                         LDR     R3, =(dword_8074C - 0xB992)</span><br><span class="line">.text:0000B98A 2F 4D                                         LDR     R5, =0x5D8A</span><br><span class="line">.text:0000B98C 2C 22                                         MOVS    R2, #0x2C</span><br><span class="line">.text:0000B98E 7B 44                                         ADD     R3, PC ; dword_8074C</span><br><span class="line">.text:0000B990 99 46                                         MOV     R9, R3</span><br><span class="line">.text:0000B992 90 46                                         MOV     R8, R2</span><br><span class="line">.text:0000B994 01 27                                         MOVS    R7, #1</span><br><span class="line">.text:0000B996</span><br><span class="line">.text:0000B996                               loc_B996                                ; CODE XREF: sub_B5DC:loc_B9CCj</span><br><span class="line">.text:0000B996 60 68                                         LDR     R0, [R4,#4]</span><br><span class="line">.text:0000B998 43 78                                         LDRB    R3, [R0,#1]</span><br><span class="line">.text:0000B99A 1A 06                                         LSLS    R2, R3, #0x18</span><br><span class="line">.text:0000B99C 13 0E                                         LSRS    R3, R2, #0x18</span><br><span class="line">.text:0000B99E 6B 2B                                         CMP     R3, #0x6B</span><br><span class="line">.text:0000B9A0 37 D0                                         BEQ     loc_BA12</span><br><span class="line">.text:0000B9A2 2D D8                                         BHI     loc_BA00</span><br><span class="line">.text:0000B9A4 50 2B                                         CMP     R3, #0x50</span><br><span class="line">.text:0000B9A6 3D D0                                         BEQ     loc_BA24</span><br><span class="line">.text:0000B9A8 69 2B                                         CMP     R3, #0x69</span><br></pre></td></tr></table></figure>

<p>IDA按 ==Ctrl+J== 列出交叉参考来源</p>
<h5 id="第一处-1"><a href="#第一处-1" class="headerlink" title="第一处:"></a>第一处:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.text:0000B8D8 8A 5D 00 00                   dword_B8D8      DCD 0x5D8A              ; DATA XREF: sub_B5DC+70r</span><br><span class="line">.text:0000B8D8                                                                       ; sub_B5DC:loc_B670r</span><br></pre></td></tr></table></figure>
<h5 id="第二处-1"><a href="#第二处-1" class="headerlink" title="第二处:"></a>第二处:</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.text:0000BA44                                                                       ; DATA XREF: sub_B5DC:loc_B988r</span><br><span class="line">.text:0000BA48 8A 5D 00 00                   dword_BA48      DCD 0x5D8A              ; DATA XREF: sub_B5DC+3AEr</span><br></pre></td></tr></table></figure>

<h3 id="用十六进制工具-010-Editor"><a href="#用十六进制工具-010-Editor" class="headerlink" title="用十六进制工具 010 Editor"></a>用十六进制工具 010 Editor</h3><p>==Ctrl+G== 到文件物理地址offset去修改，</p>
<p>IDA v6.8里 ==0000B8D8== 和 ==0000BA48== 两处的值 ==0x5D8A== 改为 ==0x41F8==<br>注意字节序是输入 ==F841==</p>
<p>October 15, 2017 1:00 PM<br>IDA v7.0里 ==0000FBA0== 处的值 ==0x5D8A== 改为 ==0xFFFF==<br>注意字节序是输入 ==FFFF==</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> 如果是nonpie版本的，IDA的地址要减去 ==Imagebase:8000== 才能得到文件物理地址offset偏移</li>
</ul>
<p>几个端口号对应16进制</p>
<blockquote>
<p>0x5D8A=23946</p>
<p>0x41F8=16888</p>
<p>0x3039=12345</p>
<p>0x2222=8738</p>
<p>0xEEEE=61166</p>
<p>0xFFFF=65535</p>
</blockquote>
<p>将修改过的文件push到手机上,用 ==chmod 777== 添加执行权限</p>
<blockquote>
<p>adb push android_server /data/local/tmp/android_server</p>
<p>adb shell chmod 777 /data/local/tmp/android_server</p>
</blockquote>
<p>然后运行试试,看看效果</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">Administrator</span>\<span class="title">Desktop</span>&gt;<span class="title">adb</span> <span class="title">shell</span> /<span class="title">data</span>/<span class="title">local</span>/<span class="title">tmp</span>/<span class="title">android_server</span></span></span><br><span class="line"><span class="function"><span class="title">IDA</span> <span class="title">Android</span> 32-<span class="title">bit</span> <span class="title">remote</span> <span class="title">debug</span> <span class="title">server</span>(<span class="title">ST</span>) <span class="title">v1</span>.19. <span class="title">Hex</span>-<span class="title">Rays</span> (<span class="title">c</span>) 2004-2015</span></span><br><span class="line"><span class="function"><span class="title">Listening</span> <span class="title">on</span> <span class="title">port</span> #16888...</span></span><br></pre></td></tr></table></figure>

<p>还可以 ==ln -s== ====做一个软链接，链接到/system/xbin/下或者/system/bin/下作为环境命令执行<br>需要root权限和adbd为root启动</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell ln -s /data/local/tmp/bs70_nonpie /system/xbin/bs70_nonpie</span><br></pre></td></tr></table></figure>

<p>换言之，就是修改所有v22 = 23946;的地方，参考如下</p>
<p><a href="/uploads/codes/android_server_nonpie_main.html">IDA PRO v7.0 android_server_nonpie_v1.20分析修改参考（右键下载保存）</a></p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">Administrator</span>\<span class="title">Desktop</span>&gt;<span class="title">adb</span> <span class="title">shell</span> <span class="title">bs70_nonpie</span></span></span><br><span class="line"><span class="function"><span class="title">IDA</span> <span class="title">Android</span> 32-<span class="title">bit</span> <span class="title">remote</span> <span class="title">debug</span> <span class="title">server</span>(<span class="title">ST</span>) <span class="title">v1</span>.22. <span class="title">Hex</span>-<span class="title">Rays</span> (<span class="title">c</span>) 2004-2017</span></span><br><span class="line"><span class="function"><span class="title">Listening</span> <span class="title">on</span> 0.0.0.0:65535...</span></span><br><span class="line"><span class="function">^<span class="title">C</span></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Users</span>\<span class="title">Administrator</span>\<span class="title">Desktop</span>&gt;<span class="title">adb</span> <span class="title">shell</span> <span class="title">bs70_nonpie</span> -<span class="title">p12345</span></span></span><br><span class="line"><span class="function"><span class="title">IDA</span> <span class="title">Android</span> 32-<span class="title">bit</span> <span class="title">remote</span> <span class="title">debug</span> <span class="title">server</span>(<span class="title">ST</span>) <span class="title">v1</span>.22. <span class="title">Hex</span>-<span class="title">Rays</span> (<span class="title">c</span>) 2004-2017</span></span><br><span class="line"><span class="function"><span class="title">Listening</span> <span class="title">on</span> 0.0.0.0:12345...</span></span><br><span class="line"><span class="function">^<span class="title">C</span></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Users</span>\<span class="title">Administrator</span>\<span class="title">Desktop</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/07/25/%E4%BF%AE%E6%94%B9android_server%E9%BB%98%E8%AE%A4%E8%B0%83%E8%AF%95%E7%AB%AF%E5%8F%A3%E5%8F%B7%E5%8F%8D%E8%B0%83%E8%AF%95/" data-id="cl3j4iur8000n49je3b7z63h7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/23946/" rel="tag">23946</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IDA%E8%B0%83%E8%AF%95/" rel="tag">IDA调试</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android-server/" rel="tag">android_server</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android%E8%B0%83%E8%AF%95/" rel="tag">android调试</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apk%E8%B0%83%E8%AF%95/" rel="tag">apk调试</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ln/" rel="tag">ln</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nonpie/" rel="tag">nonpie</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/so%E8%B0%83%E8%AF%95/" rel="tag">so调试</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-火柴人联盟去签名验证去广告Android内购破解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/26/%E7%81%AB%E6%9F%B4%E4%BA%BA%E8%81%94%E7%9B%9F%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81%E5%8E%BB%E5%B9%BF%E5%91%8AAndroid%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/" class="article-date">
  <time datetime="2017-06-26T13:22:00.000Z" itemprop="datePublished">2017-06-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a>►<a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E7%A0%B4%E8%A7%A3-Crack/">破解(Crack)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/26/%E7%81%AB%E6%9F%B4%E4%BA%BA%E8%81%94%E7%9B%9F%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81%E5%8E%BB%E5%B9%BF%E5%91%8AAndroid%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/">火柴人联盟去签名验证去广告Android内购破解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>—Creaked by  B.S. 6/26/2017 9:22:40 PM</p>
<p>无聊练手,当作学习Android优秀源码的笔记</p>
<p><strong>仅供学习研究,请勿用作商业用途,如若喜欢请支持正版!</strong></p>
<p>最新版原程序:</p>
<p><a target="_blank" rel="noopener" href="http://huo.dl.hoolaigames.com/hcrlm.apk">百度下载</a></p>
<p>(v1.18.1)</p>
<p><a target="_blank" rel="noopener" href="http://www.anzhi.com/pkg/ced9_com.DBGame.DiabloLOL.anzhi.html">http://www.anzhi.com/pkg/ced9_com.DBGame.DiabloLOL.anzhi.html</a></p>
<p>(v1.16.1)</p>
<p><a target="_blank" rel="noopener" href="http://www.appchina.com/app/com.DBGame.DiabloLOL.yyh">http://www.appchina.com/app/com.DBGame.DiabloLOL.yyh</a></p>
<p><a target="_blank" rel="noopener" href="http://android.myapp.com/myapp/detail.htm?apkName=com.DBGame.DiabloLOL">http://android.myapp.com/myapp/detail.htm?apkName=com.DBGame.DiabloLOL</a></p>
<p><a target="_blank" rel="noopener" href="http://huo.hoolaigames.com/" title="火柴人联盟官网">火柴人联盟官网: http://huo.hoolaigames.com/</a></p>
<p>B.S.去签名去广告内购破解版:(无限内购)</p>
<p><a target="_blank" rel="noopener" href="http://app.allin1.xyz/apk/hcrlm_bs.apk" title="移动联通电信全网通+第三方支付接口版">百度下载</a>(移动联通电信全网通+第三方支付接口版)</p>
<p>(v1.18.1) 链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1kRKTw96hJh1k7RHTrJowwQ">https://pan.baidu.com/s/1kRKTw96hJh1k7RHTrJowwQ</a> 密码: rscw</p>
<p>(v1.16.1) <del>链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1i5OiXNZ">https://pan.baidu.com/s/1i5OiXNZ</a> 密码: vh7u</del></p>
<p>(v1.15.1) <del>链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1bLxtjo">https://pan.baidu.com/s/1bLxtjo</a> 密码: teyv</del></p>
<p>(v1.14.1) <del>链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1slTpHUH">https://pan.baidu.com/s/1slTpHUH</a> 密码: rt4r</del></p>
<p><a target="_blank" rel="noopener" href="http://app.allin1.xyz/apk/hcrlm_1181_platinum_bs.apk" title="点我在线下载安装最新测试版">联通接口的游戏联盟会员包月可以直接领铂金会员礼包无限内购版</a></p>
<p>也可以去各大安卓市场搜索下载最新版本:(推荐支付接口比较熟悉的移动,咪咕游戏,爱游戏)</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.play.cn/" title="爱游戏">爱游戏: http://www.play.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://g.10086.cn/" title="咪咕游戏">咪咕游戏: http://g.10086.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://mm.10086.cn/android" title="中国移动应用商城">中国移动应用商城: http://mm.10086.cn/android</a></p>
<p><a target="_blank" rel="noopener" href="http://android.myapp.com/" title="腾讯应用宝">腾讯应用宝: http://android.myapp.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://zhushou.360.cn/" title="360手机助手">360手机助手: http://zhushou.360.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://apk.hiapk.com/" title="安卓市场">百度旗下安卓市场: http://apk.hiapk.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://www.anzhi.com/" title="安智市场">安智市场: http://www.anzhi.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://www.appchina.com/" title="应用汇安卓市场">应用汇安卓市场: http://www.appchina.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://app.flyme.cn/" title="魅族应用商店">魅族应用商店: http://app.flyme.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://http//game.xiaomi.com/index.php" title="小米游戏中心">小米游戏中心: http://game.xiaomi.com/index.php</a></p>
<p><a target="_blank" rel="noopener" href="http://appstore.huawei.com/" title="华为应用市场">华为应用市场: http://appstore.huawei.com/</a></p>
</blockquote>
<p>有图有真相:</p>
<table>
<thead>
<tr>
<th align="center">运营商网络</th>
<th align="left">特征码</th>
<th align="right">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="center">中国移动</td>
<td align="left">46000、46002、46007、46020</td>
<td align="right">return 0 getMobileType</td>
</tr>
<tr>
<td align="center">中国联通</td>
<td align="left">46001、46006、46010</td>
<td align="right">return 2 getOperatorType</td>
</tr>
<tr>
<td align="center">中国电信</td>
<td align="left">46003、46005、46011</td>
<td align="right">return 1 getSimType</td>
</tr>
</tbody></table>
<h3 id="1-去签名验证"><a href="#1-去签名验证" class="headerlink" title="1. 去签名验证:"></a>1. 去签名验证:</h3><p>android killer不修改直接回编译后,是有签名验证的,检测提示盗版破解游戏.</p>
<p><img src="/images/hcrlm-002.png" alt="签名验证盗版提示"></p>
<p>当然是先跑一遍原程序,看看logcat有没有敏感信息可以用;现在搜索字符串了,</p>
<blockquote>
<p>signatures</p>
<p>getAPPSecretString</p>
<p>有侵权</p>
<p>BLACK_NAME</p>
</blockquote>
<p>找到第一条添加黑名单的工具类就是,向上回溯查看哪里引用了getAPPSecretString这个方法</p>
<blockquote>
<p>.class public Lcn/mycompany/addblackname/utils/utils;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “utils.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">getAPPSecretString</span><span class="params">(Landroid/content/Context;)</span>Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">21</span></span><br><span class="line">    invoke-virtual &#123;p0&#125;, Landroid/content/Context;-&gt;getPackageName()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v4</span><br><span class="line"></span><br><span class="line">    .line <span class="number">22</span></span><br><span class="line">    .local v4, <span class="string">&quot;pkgname&quot;</span>:Ljava/lang/String;</span><br><span class="line">    const-string v1, <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>-object v1  #去签名验证从:try_start_0开始到:catch_0,但里面的返回留着.直接返回空的字符串</span><br><span class="line"></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>去验证的修改方法很多种,还可以在下面的类里定位到check方法函数.</p>
<p>根据经验可以去看看onCreate有没可用的信息,一般初始化在这里有处理.</p>
<blockquote>
<p>.class public Lcom/DBGame/DiabloLOL/DiabloLOL;</p>
<p>.super Lorg/cocos2dx/lib/Cocos2dxActivity;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">protected</span> <span class="title function_">onCreate</span><span class="params">(Landroid/os/Bundle;)</span>V</span><br><span class="line"></span><br><span class="line">    #前面还有若干代码</span><br><span class="line">    ###黑名单功能开始</span><br><span class="line">    .line <span class="number">240</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span>-instance v0, Lcn/mycompany/addblackname/AddBlackName;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v0, p0&#125;, Lcn/mycompany/addblackname/AddBlackName;-&gt;&lt;init&gt;(Landroid/content/Context;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">241</span></span><br><span class="line">    .local v0, <span class="string">&quot;blackName&quot;</span>:Lcn/mycompany/addblackname/AddBlackName;</span><br><span class="line">    #invoke-<span class="keyword">static</span> &#123;&#125;, Lcn/mycompany/addblackname/AddBlackName;-&gt;Check()V</span><br><span class="line">    ###黑名单功能结束</span><br><span class="line">    #后面还有若干代码</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>顺便广告的也可以看看能不能处理了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#前面还有若干代码</span><br><span class="line">###广告的初始化开始</span><br><span class="line">.line <span class="number">260</span></span><br><span class="line">#invoke-<span class="keyword">static</span> &#123;p0, v7&#125;, Lcn/cmgame/billing/api/game/main/Tool;-&gt;adIntervalInit(Landroid/app/Activity;Lcn/cmgame/billing/api/game/main/Listener;)V</span><br><span class="line"></span><br><span class="line">.line <span class="number">262</span></span><br><span class="line">#invoke-<span class="keyword">static</span> &#123;p0, v7&#125;, Lcn/cmgame/billing/api/game/main/Tool;-&gt;adNativeInit(Landroid/app/Activity;Lcn/cmgame/billing/api/game/main/Listener;)V</span><br><span class="line">###广告的初始化结束</span><br><span class="line">#后面还有若干代码</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>看到Lcn/mycompany/addblackname/AddBlackName;-&gt;Check()V是在添加黑名单的类里,<br>查看方法,处理check()V</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">Check</span><span class="params">()</span>V</span><br><span class="line">    .locals <span class="number">6</span></span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    ######插入代码开始 coded by B.S.</span><br><span class="line"></span><br><span class="line">    const-string v0, <span class="string">&quot;Lcn/mycompany/addblackname/AddBlackName;-&gt;check()V \n  -- by B.S.&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0&#125;, Lcom/android/BS/Log;-&gt;LogStr(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    ######插入代码结束 coded by B.S.</span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span>   #直接返回使签名验证失效.</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>


<h3 id="2-去广告"><a href="#2-去广告" class="headerlink" title="2. 去广告:"></a>2. 去广告:</h3><h5 id="去除返回退出的横幅广告"><a href="#去除返回退出的横幅广告" class="headerlink" title="去除返回退出的横幅广告:"></a>去除返回退出的横幅广告:</h5><p>点返回按钮,logcat找到敏感字符</p>
<blockquote>
<p>—– showInterAD –exit</p>
</blockquote>
<p>反编译后,搜索</p>
<blockquote>
<p>—– showInterAD</p>
</blockquote>
<blockquote>
<p>HANDLER_SHOW_INTER_AD</p>
</blockquote>
<p>在下面类修改</p>
<blockquote>
<p>.class public Lcom/DBGame/Common/BLHelper;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “BLHelper.java”</p>
</blockquote>
<p>不让他发送显示广告的消息</p>
<blockquote>
<p>public static final int HANDLER_SHOW_INTER_AD = 211;</p>
<p>.field public static final HANDLER_SHOW_INTER_AD:I = 0xd3</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">showInterAD</span><span class="params">(Ljava/lang/String;)</span>V</span><br><span class="line">    .locals <span class="number">6</span></span><br><span class="line">    .param p0, <span class="string">&quot;tag&quot;</span>    # Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">360</span></span><br><span class="line">    const-string v3, <span class="string">&quot;ad&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span>-instance v4, Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v4&#125;, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">    const-string v5, <span class="string">&quot;----- showInterAD --&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v4, v5&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    move-result-object v4</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v4, p0&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    move-result-object v4</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v4&#125;, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v4</span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v3, v4&#125;, Landroid/util/Log;-&gt;w(Ljava/lang/String;Ljava/lang/String;)I</span><br><span class="line"></span><br><span class="line">    .line <span class="number">361</span></span><br><span class="line">    const/<span class="number">4</span> v1, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">362</span></span><br><span class="line">    .local v1, <span class="string">&quot;index&quot;</span>:I</span><br><span class="line">    const/<span class="number">4</span> v0, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">    .local v0, <span class="string">&quot;i&quot;</span>:I</span><br><span class="line">    :goto_0</span><br><span class="line">    sget-object v3, Lcom/DBGame/Common/BLHelper;-&gt;adTags:[Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    array-length v3, v3</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-ge v0, v3, :cond_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">363</span></span><br><span class="line">    sget-object v3, Lcom/DBGame/Common/BLHelper;-&gt;adTags:[Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    aget-object v3, v3, v0</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3, p0&#125;, Ljava/lang/String;-&gt;equals(Ljava/lang/Object;)Z</span><br><span class="line"></span><br><span class="line">    move-result v3</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v3, :cond_1</span><br><span class="line"></span><br><span class="line">    .line <span class="number">364</span></span><br><span class="line">    move v1, v0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">368</span></span><br><span class="line">    :cond_0</span><br><span class="line">    <span class="keyword">new</span>-instance v2, Landroid/os/Message;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v2&#125;, Landroid/os/Message;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">369</span></span><br><span class="line">    .local v2, <span class="string">&quot;msg&quot;</span>:Landroid/os/Message;</span><br><span class="line">    const/<span class="number">16</span> v3, <span class="number">0xd3</span></span><br><span class="line"></span><br><span class="line">    iput v3, v2, Landroid/os/Message;-&gt;what:I</span><br><span class="line"></span><br><span class="line">    .line <span class="number">370</span></span><br><span class="line">    iput v1, v2, Landroid/os/Message;-&gt;arg1:I</span><br><span class="line"></span><br><span class="line">    .line <span class="number">371</span></span><br><span class="line">    sget-object v3, Lcom/DBGame/Common/BLHelper;-&gt;sContext:Lcom/DBGame/DiabloLOL/DiabloLOL;</span><br><span class="line">    #去退出广告,不让他发送显示广告的消息,下面一句给注释或删掉</span><br><span class="line">    #invoke-virtual &#123;v3, v2&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;sendMessage(Landroid/os/Message;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">372</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">362</span></span><br><span class="line">    .end local v2    # <span class="string">&quot;msg&quot;</span>:Landroid/os/Message;</span><br><span class="line">    :cond_1</span><br><span class="line">    add-<span class="type">int</span>/lit8 v0, v0, <span class="number">0x1</span></span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<h5 id="去除选英雄和副本的横幅广告："><a href="#去除选英雄和副本的横幅广告：" class="headerlink" title="去除选英雄和副本的横幅广告："></a>去除选英雄和副本的横幅广告：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">HANDLER_SHOWBANNER</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">HANDLER_HIDEBANNER</span> <span class="operator">=</span> <span class="number">210</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> DiabloLOL.HANDLER_HIDEBANNER <span class="comment">/*210*/</span>:</span><br><span class="line">                    DiabloLOL.<span class="built_in">this</span>.hideBanner();</span><br><span class="line"><span class="keyword">case</span> <span class="number">200</span>:</span><br><span class="line">                    DiabloLOL.<span class="built_in">this</span>.showBanner();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>修改下面类里的方法</p>
<blockquote>
<p>.class public Lcom/DBGame/Common/BLHelper;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “BLHelper.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">showBanner</span><span class="params">(Ljava/lang/String;)</span>V</span><br><span class="line">    .locals <span class="number">2</span></span><br><span class="line">    .param p0, <span class="string">&quot;tag&quot;</span>    # Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">375</span></span><br><span class="line">    <span class="keyword">new</span>-instance v0, Landroid/os/Message;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v0&#125;, Landroid/os/Message;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">376</span></span><br><span class="line">    .local v0, <span class="string">&quot;msg&quot;</span>:Landroid/os/Message;</span><br><span class="line">    const/<span class="number">16</span> v1, <span class="number">0xd2</span>  #const/<span class="number">16</span> v1, <span class="number">0xc8</span>  #显示横幅广告的发送消息的代码 <span class="number">0xc8</span>=<span class="number">200</span> 修改为 <span class="number">0xd2</span>=<span class="number">210</span>   隐藏横幅</span><br><span class="line">    </span><br><span class="line">    iput v1, v0, Landroid/os/Message;-&gt;what:I</span><br><span class="line"></span><br><span class="line">    .line <span class="number">377</span></span><br><span class="line">    sget-object v1, Lcom/DBGame/Common/BLHelper;-&gt;sContext:Lcom/DBGame/DiabloLOL/DiabloLOL;</span><br><span class="line"></span><br><span class="line">    #去横幅广告,或者不让他发送显示广告的消息,</span><br><span class="line">    invoke-virtual &#123;v1, v0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;sendMessage(Landroid/os/Message;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">378</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>可以再去下面类里看看,消息处理的地方<br>.method public handleMessage(Landroid/os/Message;)V</p>
<blockquote>
<p>.class Lcom/DBGame/DiabloLOL/DiabloLOL$3;</p>
<p>.super Landroid/os/Handler;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="number">200</span>: </span><br><span class="line">  <span class="comment">//DiabloLOL.access$400(this.this$0);</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">210</span>: </span><br><span class="line">  <span class="comment">//DiabloLOL.access$500(this.this$0);</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">211</span>: </span><br><span class="line">  Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;HANDLER_SHOW_INTER_AD==========&quot;</span>);</span><br><span class="line">  <span class="comment">//DiabloLOL.access$600(this.this$0, paramMessage.arg1);</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>

<p>对应的smali</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">650</span></span><br><span class="line">#去除显示横幅sswitch_8</span><br><span class="line">:sswitch_8</span><br><span class="line">iget-object v2, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">3</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;</span><br><span class="line"></span><br><span class="line"># invokes: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;showBanner()V</span><br><span class="line">#invoke-<span class="keyword">static</span> &#123;v2&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;access$<span class="number">400</span>(Lcom/DBGame/DiabloLOL/DiabloLOL;)V</span><br><span class="line"></span><br><span class="line">goto :goto_0</span><br><span class="line"></span><br><span class="line">.line <span class="number">654</span></span><br><span class="line">#去除隐藏横幅sswitch_9</span><br><span class="line">:sswitch_9</span><br><span class="line">iget-object v2, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">3</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;</span><br><span class="line"></span><br><span class="line"># invokes: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;hideBanner()V</span><br><span class="line">#invoke-<span class="keyword">static</span> &#123;v2&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;access$<span class="number">500</span>(Lcom/DBGame/DiabloLOL/DiabloLOL;)V</span><br><span class="line"></span><br><span class="line">goto :goto_0</span><br><span class="line"></span><br><span class="line">.line <span class="number">658</span></span><br><span class="line">#去除显示嵌入式广告sswitch_a</span><br><span class="line">:sswitch_a</span><br><span class="line">const-string v2, <span class="string">&quot;qq&quot;</span></span><br><span class="line"></span><br><span class="line">const-string v3, <span class="string">&quot;HANDLER_SHOW_INTER_AD==========&quot;</span></span><br><span class="line"></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v2, v3&#125;, Landroid/util/Log;-&gt;e(Ljava/lang/String;Ljava/lang/String;)I</span><br><span class="line"></span><br><span class="line">.line <span class="number">659</span></span><br><span class="line">iget-object v2, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">3</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;</span><br><span class="line"></span><br><span class="line">iget v3, p1, Landroid/os/Message;-&gt;arg1:I</span><br><span class="line"></span><br><span class="line"># invokes: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;showInterAd(I)V</span><br><span class="line">#invoke-<span class="keyword">static</span> &#123;v2, v3&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;access$<span class="number">600</span>(Lcom/DBGame/DiabloLOL/DiabloLOL;I)V</span><br><span class="line"></span><br><span class="line">goto/<span class="number">16</span> :goto_0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>消息处理的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleMessage</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (msg.what) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.exitGame();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">            ((ClipboardManager) Cocos2dxActivity.getContext().getSystemService(<span class="string">&quot;clipboard&quot;</span>)).setPrimaryClip(ClipData.newPlainText(MiniDefine.ax, BLHelper.copyString));</span><br><span class="line">            Toast.makeText(DiabloLOL.<span class="built_in">this</span>, <span class="string">&quot;拷贝成功！&quot;</span>, <span class="number">0</span>).show();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">30</span>:</span><br><span class="line">            <span class="keyword">if</span> (BLHelper.IPAYTAYPE == <span class="number">1</span>) &#123;</span><br><span class="line">                DiabloLOL.<span class="built_in">this</span>.payInDuanXin();</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (BLHelper.IPAYTAYPE != <span class="number">2</span> &amp;&amp; DiabloLOL.RECHARGE_CHANNELS.indexOf(String.valueOf(DiabloLOL.<span class="built_in">this</span>.iFromPay)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                DiabloLOL.<span class="built_in">this</span>.payInDuanXin();</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">102</span>:</span><br><span class="line">            OGPub.Instance().closeLoad();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">200</span>:</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.showBanner();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_HIDEBANNER <span class="comment">/*210*/</span>:</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.hideBanner();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_SHOW_INTER_AD <span class="comment">/*211*/</span>:</span><br><span class="line">            Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;HANDLER_SHOW_INTER_AD==========&quot;</span>);</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.showInterAd(msg.arg1);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_REYUN_EXIT <span class="comment">/*400*/</span>:</span><br><span class="line">            ReYun.exitSdk();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_SHOWSHARE <span class="comment">/*420*/</span>:</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.showShareDialog();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_SAVEPIC <span class="comment">/*450*/</span>:</span><br><span class="line">            BLHelper.savePic();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_MONTHCONTRA <span class="comment">/*470*/</span>:</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.purchaseMonthlyContract(msg.arg1);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">case</span> DiabloLOL.HANDLER_HIDEWEBDATA <span class="comment">/*998*/</span>:</span><br><span class="line">            BLHelper.webout();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>顺便也解决下其他的函数,<br>.method private showBanner()V和.method private showInterAd(I)V<br>处理掉直接返回</p>
<blockquote>
<p>.class public Lcom/DBGame/DiabloLOL/DiabloLOL;</p>
<p>.super Lorg/cocos2dx/lib/Cocos2dxActivity;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">private</span> <span class="title function_">showBanner</span><span class="params">()</span>V</span><br><span class="line">    .locals <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">338</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span>    #直接返回</span><br><span class="line">    </span><br><span class="line">    const v1, <span class="number">0x3e4ccccd</span>    # <span class="number">0.2f</span></span><br><span class="line"></span><br><span class="line">    const v2, <span class="number">0x3f4ccccd</span>    # <span class="number">0.8f</span></span><br><span class="line"></span><br><span class="line">    const v3, <span class="number">0x3f19999a</span>    # <span class="number">0.6f</span></span><br><span class="line"></span><br><span class="line">    const v4, <span class="number">0x3e19999a</span>    # <span class="number">0.15f</span></span><br><span class="line">    </span><br><span class="line">    :try_start_0</span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;p0, v1, v2, v3, v4&#125;, Lcn/cmgame/billing/api/game/main/Tool;-&gt;adNativeShow(Landroid/app/Activity;FFFF)V</span><br><span class="line">    :try_end_0</span><br><span class="line">    .<span class="keyword">catch</span> Ljava/lang/Exception; &#123;:try_start_0 .. :try_end_0&#125; :catch_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">342</span></span><br><span class="line">    :goto_0</span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">339</span></span><br><span class="line">    :catch_0</span><br><span class="line">    move-exception v0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">340</span></span><br><span class="line">    .local v0, <span class="string">&quot;e&quot;</span>:Ljava/lang/Exception;</span><br><span class="line">    invoke-virtual &#123;v0&#125;, Ljava/lang/Exception;-&gt;printStackTrace()V</span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line">.end method</span><br><span class="line"></span><br><span class="line">.method <span class="keyword">private</span> <span class="title function_">showInterAd</span><span class="params">(I)</span>V</span><br><span class="line">    .locals <span class="number">1</span></span><br><span class="line">    .param p1, <span class="string">&quot;index&quot;</span>    # I</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">354</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span>  #直接返回</span><br><span class="line">    :try_start_0</span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;p0, p1&#125;, Lcn/cmgame/billing/api/game/main/Tool;-&gt;adIntervalShow(Landroid/app/Activity;I)V</span><br><span class="line">    :try_end_0</span><br><span class="line">    .<span class="keyword">catch</span> Ljava/lang/Exception; &#123;:try_start_0 .. :try_end_0&#125; :catch_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">358</span></span><br><span class="line">    :goto_0</span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">355</span></span><br><span class="line">    :catch_0</span><br><span class="line">    move-exception v0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">356</span></span><br><span class="line">    .local v0, <span class="string">&quot;e&quot;</span>:Ljava/lang/Exception;</span><br><span class="line">    invoke-virtual &#123;v0&#125;, Ljava/lang/Exception;-&gt;printStackTrace()V</span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<h5 id="去除今日推荐5秒闪屏广告"><a href="#去除今日推荐5秒闪屏广告" class="headerlink" title="去除今日推荐5秒闪屏广告:"></a>去除今日推荐5秒闪屏广告:</h5><blockquote>
<p>.class public Lcn/cmgame/billing/api/game/main/Tool;</p>
<p>.super Ljava/lang/Object;</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">adSplashShow</span><span class="params">(Landroid/app/Activity;Ljava/lang/Class;Ljava/lang/Class;Landroid/os/Handler;)</span>Z</span><br><span class="line">    .locals <span class="number">7</span></span><br><span class="line">    const/<span class="number">4</span> v0, <span class="number">0x1</span></span><br><span class="line"></span><br><span class="line">    const/<span class="number">4</span> v1, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">    const-string v2, <span class="string">&quot;---adSplashShow----&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v2&#125;, Lcn/cmgame/billing/api/game/e/d;-&gt;b(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    sput-object p0, Lcn/cmgame/billing/api/game/main/Tool;-&gt;splashActivity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">    :try_start_0</span><br><span class="line">    ###### 自带日志输出  appSign</span><br><span class="line">    const-string v3, <span class="string">&quot;---B.S.---Tool.adSplashShow&quot;</span></span><br><span class="line">    #move-object/from16 v2, v2  #v0是要打印输出的内容</span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v3, v2&#125;, Landroid/util/Log;-&gt;e(Ljava/lang/String;Ljava/lang/String;)I</span><br><span class="line">    move v0, v1  #这里要，返回为<span class="number">0</span>去今日推荐<span class="number">5</span>秒闪屏广告，返回为<span class="number">1</span>会一直黑屏</span><br><span class="line">    goto :goto_0</span><br><span class="line">    ######</span><br></pre></td></tr></table></figure>


<h3 id="3-内购破解："><a href="#3-内购破解：" class="headerlink" title="3. 内购破解："></a>3. 内购破解：</h3><h5 id="去除可能会产生费用的危险权限"><a href="#去除可能会产生费用的危险权限" class="headerlink" title="去除可能会产生费用的危险权限:"></a>去除可能会产生费用的危险权限:</h5><p>AndroidManifest.xml里搜索</p>
<blockquote>
<p>android.permission.SEND_SMS</p>
<p>android.permission.CALL_PHONE</p>
</blockquote>
<p>删掉</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name=<span class="string">&quot;android.permission.SEND_SMS&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;uses-permission android:name=<span class="string">&quot;android.permission.CALL_PHONE&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>


<h5 id="补充一个强大的函数"><a href="#补充一个强大的函数" class="headerlink" title="补充一个强大的函数"></a>补充一个强大的函数</h5><h6 id="不需要支付购买-竟然有这函数-分析v1-15-1腾讯渠道第三方支付版发现的"><a href="#不需要支付购买-竟然有这函数-分析v1-15-1腾讯渠道第三方支付版发现的" class="headerlink" title="不需要支付购买?!!!竟然有这函数(分析v1.15.1腾讯渠道第三方支付版发现的)"></a>不需要支付购买?!!!竟然有这函数(分析v1.15.1腾讯渠道第三方支付版发现的)</h6><blockquote>
<p>invoke-direct {p0}, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;buyWithoutPay()V</p>
</blockquote>
<p>在第三方支付里可以直接调用上面的函数,直接购买成功</p>
<blockquote>
<p>.method public payThird(Ljava/lang/String;)V</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paySuccess</span><span class="params">(Map&lt;String, String&gt; paramAnonymousMap)</span></span><br><span class="line">&#123;</span><br><span class="line">	DiabloLOL.<span class="built_in">this</span>.setPayment();</span><br><span class="line">	BLHelper.purchaseComplete(DiabloLOL.<span class="built_in">this</span>.PRO_ID_Str[DiabloLOL.<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">	BLHelper.closeShieldLayer();</span><br><span class="line">	Log.e(<span class="string">&quot;B.S.&quot;</span>, <span class="string">&quot;模拟Egame支付成功 --by B.S.&quot;</span>);</span><br><span class="line">	DiabloLOL.access$<span class="number">202</span>(DiabloLOL.<span class="built_in">this</span>, -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>将原来的buyWithoutPay模拟上面的paySuccess成功代码处理一下,要不然只能第一次购买成功.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">buyWithoutPay</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	setPayment();</span><br><span class="line">	BLHelper.purchaseComplete(<span class="built_in">this</span>.PRO_ID_Str[<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">	BLHelper.closeShieldLayer();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>经过修正过的不支付购买函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">buyWithoutPay</span><span class="params">()</span> &#123;</span><br><span class="line">	com.android.BS.Log.LogStr(<span class="string">&quot;无限内购B.S.破解版\n  www.appleos.xyz \n  爱淫荡  多合一 \n  www.allin1.xyz \n  buyWithoutPay -- by B.S.&quot;</span>);</span><br><span class="line">	setPayment();</span><br><span class="line">	BLHelper.purchaseComplete(<span class="built_in">this</span>.PRO_ID_Str[<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">	BLHelper.closeShieldLayer();</span><br><span class="line">	Log.e(<span class="string">&quot;---B.S.---&quot;</span>, <span class="string">&quot;模拟EGame支付成功 --by B.S.&quot;</span>);</span><br><span class="line">	<span class="built_in">this</span>.mPayIndex = -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修正后的buyWithoutPay对应的smali</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">private</span> <span class="title function_">buyWithoutPay</span><span class="params">()</span>V</span><br><span class="line">    .locals <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">730</span></span><br><span class="line">    ######插入代码开始 coded by B.S.</span><br><span class="line">    </span><br><span class="line">    const-string v0, <span class="string">&quot;\u65e0\u9650\u5185\u8d2dB.S.\u7834\u89e3\u7248\n  www.appleos.xyz \n  \u7231\u6DEB\u8361  \u591A\u5408\u4E00 \n  www.allin1.xyz \n  buyWithoutPay -- by B.S.&quot;</span></span><br><span class="line">    </span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0&#125;, Lcom/android/BS/Log;-&gt;LogStr(Ljava/lang/String;)V</span><br><span class="line">    </span><br><span class="line">    ######插入代码结束 coded by B.S.  </span><br><span class="line">    </span><br><span class="line">    invoke-direct &#123;p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;setPayment()V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">731</span></span><br><span class="line">    iget-object v0, p0, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;PRO_ID_Str:[Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    iget v1, p0, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;mPayIndex:I</span><br><span class="line"></span><br><span class="line">    aget-object v0, v0, v1</span><br><span class="line"></span><br><span class="line">    const/<span class="number">4</span> v1, <span class="number">0x1</span></span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0, v1&#125;, Lcom/DBGame/Common/BLHelper;-&gt;purchaseComplete(Ljava/lang/String;I)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">732</span></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;&#125;, Lcom/DBGame/Common/BLHelper;-&gt;closeShieldLayer()V</span><br><span class="line"></span><br><span class="line">    ###</span><br><span class="line">    const-string v0, <span class="string">&quot;---B.S.---&quot;</span></span><br><span class="line"></span><br><span class="line">    const-string v1, <span class="string">&quot;\u6a21\u62dfEGame\u652f\u4ed8\u6210\u529f --by B.S.&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0, v1&#125;, Landroid/util/Log;-&gt;e(Ljava/lang/String;Ljava/lang/String;)I</span><br><span class="line"></span><br><span class="line">    const/<span class="number">4</span> v1, -<span class="number">0x1</span></span><br><span class="line"></span><br><span class="line">    # setter <span class="keyword">for</span>: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;mPayIndex:I</span><br><span class="line">    #invoke-<span class="keyword">static</span> &#123;p0, v1&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;access$<span class="number">202</span>(Lcom/DBGame/DiabloLOL/DiabloLOL;I)I</span><br><span class="line">    ######下面是上一句代码里面的简写形式 setter <span class="keyword">for</span>: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;mPayIndex:I</span><br><span class="line">    iput v1, p0, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;mPayIndex:I</span><br><span class="line">    ###</span><br><span class="line"></span><br><span class="line">    .line <span class="number">733</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>


<h5 id="电信支付接口："><a href="#电信支付接口：" class="headerlink" title="电信支付接口："></a>电信支付接口：</h5><p>logcat字符串定位,</p>
<blockquote>
<p>Egame支付成功</p>
</blockquote>
<blockquote>
<p>Egame支付Cancel</p>
</blockquote>
<blockquote>
<p>order id:</p>
</blockquote>
<p>搜索上面字符串,向上分析,回溯分析.</p>
<blockquote>
<p>.class public Lcn/egame/terminal/paysdk/EgamePay;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “EgamePay.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">pay</span><span class="params">(Landroid/app/Activity;Ljava/util/Map;Lcn/egame/terminal/paysdk/EgamePayListener;)</span>V</span><br><span class="line">    .locals <span class="number">1</span></span><br><span class="line">    .param p0, <span class="string">&quot;activity&quot;</span>    # Landroid/app/Activity;</span><br><span class="line">    .param p2, <span class="string">&quot;listener&quot;</span>    # Lcn/egame/terminal/paysdk/EgamePayListener;</span><br><span class="line">    .annotation system Ldalvik/annotation/Signature;</span><br><span class="line">        value = &#123;</span><br><span class="line">            <span class="string">&quot;(&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Landroid/app/Activity;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Ljava/util/Map&quot;</span>,</span><br><span class="line">            <span class="string">&quot;&lt;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Ljava/lang/String;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Ljava/lang/String;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;&gt;;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Lcn/egame/terminal/paysdk/EgamePayListener;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;)V&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    .end annotation</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">78</span></span><br><span class="line">    #注意paySuccess这个函数只有一个参数.method <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="title function_">paySuccess</span><span class="params">(Ljava/util/Map;)</span>V</span><br><span class="line">    #而失败payFailed这个函数有第二个整型参数 .method <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="title function_">payFailed</span><span class="params">(Ljava/util/Map;I)</span>V</span><br><span class="line">    # Egame支付成功</span><br><span class="line">    invoke-interface &#123;p2, p1&#125;, Lcn/egame/terminal/paysdk/EgamePayListener;-&gt;paySuccess(Ljava/util/Map;)V</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line"></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>还可以用paySuccess函数体代替payCancel和payFailed.在下面的类里,</p>
<blockquote>
<p>.class Lcom/DBGame/DiabloLOL/DiabloLOL$6;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<h5 id="联通支付接口："><a href="#联通支付接口：" class="headerlink" title="联通支付接口："></a>联通支付接口：</h5><p>logcat字符串定位啊,</p>
<blockquote>
<p>Unicom支付成功</p>
<p>Unicom支付cancel</p>
</blockquote>
<p>在下面类修改处理,可以用goto大法或者switch大法.</p>
<blockquote>
<p>.class Lcom/DBGame/DiabloLOL/DiabloLOL$4;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">PayResult</span><span class="params">(Ljava/lang/String;IILjava/lang/String;)</span>V</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">694</span></span><br><span class="line">    goto  :pswitch_0  #联通支付接口，直接JMP无条件跳到支付成功 </span><br><span class="line">    packed-<span class="keyword">switch</span> p2, :pswitch_data_0</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h5 id="移动支付接口："><a href="#移动支付接口：" class="headerlink" title="移动支付接口："></a>移动支付接口：</h5><p>logcat定位字符串,</p>
<blockquote>
<p>购买道具：[</p>
<p>] 成功！</p>
<p>] 失败！</p>
</blockquote>
<p>在下面类修改</p>
<blockquote>
<p>.class Lcom/DBGame/DiabloLOL/DiabloLOL$5;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">onResult</span><span class="params">(ILjava/lang/String;Ljava/lang/Object;)</span>V</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">735</span></span><br><span class="line">    const-string v0, <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">736</span></span><br><span class="line">    .local v0, <span class="string">&quot;result&quot;</span>:Ljava/lang/String;</span><br><span class="line">    goto :pswitch_0   #移动支付接口，直接JMP无条件跳到支付成功 </span><br><span class="line">    packed-<span class="keyword">switch</span> p1, :pswitch_data_0</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="4-统一支付接口"><a href="#4-统一支付接口" class="headerlink" title="4. 统一支付接口:"></a>4. 统一支付接口:</h3><p>统一为电信的吧.可以直接成功,没那么多弹窗支付</p>
<p>定位字符串</p>
<blockquote>
<p>电信初始化成功</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">protected</span> <span class="title function_">onCreate</span><span class="params">(Landroid/os/Bundle;)</span>V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">254</span></span><br><span class="line">    invoke-direct &#123;p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;getSimType()I</span><br><span class="line"></span><br><span class="line">    move-result v4</span><br><span class="line"></span><br><span class="line">    iput v4, p0, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;iFromPay:I</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>进入getSimType方法函数处理结果然后赋值给iFromPay</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getSimType</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">type</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sOperator</span> <span class="operator">=</span> ((TelephonyManager) getSystemService(<span class="string">&quot;phone&quot;</span>)).getSimOperator().trim();</span><br><span class="line">    <span class="keyword">if</span> (sOperator == <span class="literal">null</span> || sOperator.equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span> (Integer.valueOf(sOperator).intValue()) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46000</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46002</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46007</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46020</span>:</span><br><span class="line">            type = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46001</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46006</span>:</span><br><span class="line">            type = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46003</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46005</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">46011</span>:</span><br><span class="line">            type = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>直接return 1;伪装为电信,支付接口统一完毕.请参看本文开头的SIM类型表格</p>
<p>我第一次比较麻烦的改法如下,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">private</span> <span class="title function_">getSimType</span><span class="params">()</span>I</span><br><span class="line">    .locals <span class="number">6</span></span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">267</span></span><br><span class="line">    const/<span class="number">4</span> v3, <span class="number">0x1</span>  #const/<span class="number">4</span> v3, <span class="number">0x0</span>  #初始化为<span class="number">0</span>是移动</span><br><span class="line"></span><br><span class="line">    .line <span class="number">268</span></span><br><span class="line">    .local v3, <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    const-string v5, <span class="string">&quot;phone&quot;</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">269</span></span><br><span class="line">    invoke-virtual &#123;p0, v5&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;getSystemService(Ljava/lang/String;)Ljava/lang/Object;</span><br><span class="line"></span><br><span class="line">    move-result-object v2</span><br><span class="line"></span><br><span class="line">    check-cast v2, Landroid/telephony/TelephonyManager;</span><br><span class="line"></span><br><span class="line">    .line <span class="number">270</span></span><br><span class="line">    .local v2, <span class="string">&quot;tm&quot;</span>:Landroid/telephony/TelephonyManager;</span><br><span class="line">    invoke-virtual &#123;v2&#125;, Landroid/telephony/TelephonyManager;-&gt;getSimOperator()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v5</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v5&#125;, Ljava/lang/String;-&gt;trim()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v1</span><br><span class="line"></span><br><span class="line">    ######插入自定义log开始</span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v1&#125;, Lcom/android/BS/Log;-&gt;LogStr(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    ######插入自定义log结束</span><br><span class="line"></span><br><span class="line">    ######插入自定义log开始</span><br><span class="line"></span><br><span class="line">    const-string v0, <span class="string">&quot;\n\u65e0\u9650\u5185\u8d2dB.S.\u7834\u89e3\u7248\n www.appleos.xyz \n-- by B.S.&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0&#125;, Lcom/android/BS/Log;-&gt;LogStr(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    ######插入自定义log结束</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .line <span class="number">271</span></span><br><span class="line">    .local v1, <span class="string">&quot;sOperator&quot;</span>:Ljava/lang/String;</span><br><span class="line">    <span class="keyword">if</span>-eqz v1, :cond_0</span><br><span class="line"></span><br><span class="line">    const-string v5, <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v1, v5&#125;, Ljava/lang/String;-&gt;equals(Ljava/lang/Object;)Z</span><br><span class="line"></span><br><span class="line">    move-result v5</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v5, :cond_1</span><br><span class="line"></span><br><span class="line">    :cond_0</span><br><span class="line">    move v4, v3    #移动为<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">295</span></span><br><span class="line">    .end local v3    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    .local v4, <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    :goto_0</span><br><span class="line">    <span class="keyword">return</span> v4</span><br><span class="line"></span><br><span class="line">    .line <span class="number">274</span></span><br><span class="line">    .end local v4    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    .restart local v3    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    :cond_1</span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v1&#125;, Ljava/lang/Integer;-&gt;valueOf(Ljava/lang/String;)Ljava/lang/Integer;</span><br><span class="line"></span><br><span class="line">    move-result-object v5</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v5&#125;, Ljava/lang/Integer;-&gt;intValue()I</span><br><span class="line"></span><br><span class="line">    move-result v0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">275</span></span><br><span class="line">    .local v0, <span class="string">&quot;sCode&quot;</span>:I</span><br><span class="line">    packed-<span class="keyword">switch</span> v0, :pswitch_data_0</span><br><span class="line"></span><br><span class="line">    :goto_1</span><br><span class="line">    :pswitch_0</span><br><span class="line">    move v4, v3</span><br><span class="line"></span><br><span class="line">    .line <span class="number">295</span></span><br><span class="line">    .end local v3    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    .restart local v4    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    goto :goto_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">280</span></span><br><span class="line">    .end local v4    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    .restart local v3    # <span class="string">&quot;type&quot;</span>:I</span><br><span class="line">    :pswitch_1</span><br><span class="line">    const/<span class="number">4</span> v3, <span class="number">0x1</span>  #const/<span class="number">4</span> v3, <span class="number">0x0</span>   #移动</span><br><span class="line"></span><br><span class="line">    .line <span class="number">281</span></span><br><span class="line">    goto :goto_1</span><br><span class="line"></span><br><span class="line">    .line <span class="number">284</span></span><br><span class="line">    :pswitch_2</span><br><span class="line">    const/<span class="number">4</span> v3, <span class="number">0x1</span>  #const/<span class="number">4</span> v3, <span class="number">0x2</span>   #联通</span><br><span class="line"></span><br><span class="line">    .line <span class="number">285</span></span><br><span class="line">    goto :goto_1</span><br><span class="line"></span><br><span class="line">    .line <span class="number">289</span></span><br><span class="line">    :pswitch_3</span><br><span class="line">    const/<span class="number">4</span> v3, <span class="number">0x1</span>    #电信</span><br><span class="line"></span><br><span class="line">    .line <span class="number">290</span></span><br><span class="line">    goto :goto_1</span><br><span class="line"></span><br><span class="line">    .line <span class="number">275</span></span><br><span class="line">    :pswitch_data_0</span><br><span class="line">    .packed-<span class="keyword">switch</span> <span class="number">0xb3b0</span></span><br><span class="line">        :pswitch_1</span><br><span class="line">        :pswitch_2</span><br><span class="line">        :pswitch_1</span><br><span class="line">        :pswitch_3</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_3</span><br><span class="line">        :pswitch_2</span><br><span class="line">        :pswitch_1</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_3</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_0</span><br><span class="line">        :pswitch_1</span><br><span class="line">    .end packed-<span class="keyword">switch</span></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>也可以直接return 0,伪装为移动,统一为移动支付.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">private</span> <span class="title function_">getSimType</span><span class="params">()</span>I</span><br><span class="line">    .locals <span class="number">6</span></span><br><span class="line"></span><br><span class="line">    ###统一为移动短信支付接口直接返回为<span class="number">0</span></span><br><span class="line">    const/<span class="number">4</span> v4, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> v4</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>然后处理移动短信支付的函数方法payInYidong(),移动短信支付的另外一种破解方法,</p>
<blockquote>
<p>.class Lcom/DBGame/DiabloLOL/DiabloLOL$5;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “DiabloLOL.java”</p>
</blockquote>
<p>把移动购买成功的代码,就是:pswitch_0里两个goto :goto_0之间的有效代码,直接搬到payInYidong()里,放到:cond_0和return-void之间.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">755</span></span><br><span class="line">:goto_0</span><br><span class="line">invoke-<span class="keyword">static</span> &#123;&#125;, Lcom/DBGame/Common/BLHelper;-&gt;closeShieldLayer()V</span><br><span class="line"></span><br><span class="line">.line <span class="number">756</span></span><br><span class="line"><span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line"></span><br><span class="line">.line <span class="number">738</span></span><br><span class="line">:pswitch_0</span><br><span class="line">const-string v1, <span class="string">&quot;10&quot;</span></span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;p3&#125;, Ljava/lang/Object;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">move-result-object v2</span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;v1, v2&#125;, Ljava/lang/String;-&gt;equals(Ljava/lang/Object;)Z</span><br><span class="line"></span><br><span class="line">move-result v1</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>-eqz v1, :cond_0</span><br><span class="line"></span><br><span class="line">.line <span class="number">739</span></span><br><span class="line">const-string v0, <span class="string">&quot;\u77ed\u4fe1\u8ba1\u8d39\u8d85\u65f6&quot;</span></span><br><span class="line"></span><br><span class="line">goto :goto_0</span><br><span class="line"></span><br><span class="line">.line <span class="number">741</span></span><br><span class="line">:cond_0  ###从下面一句开始购买成功,不弹窗.</span><br><span class="line"><span class="keyword">new</span>-instance v1, Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">invoke-direct &#123;v1&#125;, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">const-string v2, <span class="string">&quot;\u8d2d\u4e70\u9053\u5177\uff1a[&quot;</span></span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;v1, v2&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">move-result-object v1</span><br><span class="line"></span><br><span class="line">iget-object v2, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">5</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;  #和下一语句合并</span><br><span class="line"></span><br><span class="line">iget-object v2, v2, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;PAY_NAME:[Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">iget-object v3, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">5</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;  #和下一语句合并</span><br><span class="line"></span><br><span class="line"># getter <span class="keyword">for</span>: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;mPayIndex:I</span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v3&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;access$<span class="number">800</span>(Lcom/DBGame/DiabloLOL/DiabloLOL;)I</span><br><span class="line"></span><br><span class="line">move-result v3</span><br><span class="line"></span><br><span class="line">aget-object v2, v2, v3</span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;v1, v2&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">move-result-object v1</span><br><span class="line"></span><br><span class="line">const-string v2, <span class="string">&quot;] \u6210\u529f\uff01&quot;</span></span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;v1, v2&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">move-result-object v1</span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;v1&#125;, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">move-result-object v0</span><br><span class="line"></span><br><span class="line">.line <span class="number">742</span></span><br><span class="line">iget-object v1, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">5</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;  #和下一语句合并</span><br><span class="line"></span><br><span class="line">iget-object v1, v1, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;PRO_ID_Str:[Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">iget-object v2, p0, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">5</span>;-&gt;<span class="built_in">this</span>$<span class="number">0</span>:Lcom/DBGame/DiabloLOL/DiabloLOL;  #和下一语句合并</span><br><span class="line"></span><br><span class="line"># getter <span class="keyword">for</span>: Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;mPayIndex:I</span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v2&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;access$<span class="number">800</span>(Lcom/DBGame/DiabloLOL/DiabloLOL;)I</span><br><span class="line"></span><br><span class="line">move-result v2</span><br><span class="line"></span><br><span class="line">aget-object v1, v1, v2</span><br><span class="line"></span><br><span class="line">const/<span class="number">4</span> v2, <span class="number">0x1</span></span><br><span class="line"></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v1, v2&#125;, Lcom/DBGame/Common/BLHelper;-&gt;purchaseComplete(Ljava/lang/String;I)V</span><br><span class="line"></span><br><span class="line">goto :goto_0  ###购买成功不弹窗到goto那边的closeShieldLayer语句然后返回结束</span><br><span class="line"></span><br><span class="line">.line <span class="number">748</span></span><br><span class="line">:pswitch_1</span><br></pre></td></tr></table></figure>

<p>最后应该变为java源码如下面的样子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInYidong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (LOLConstant.sCMCC_OPEN == <span class="number">0</span>) &#123;</span><br><span class="line">            BLHelper.showShieldLayer(<span class="string">&quot;正在处理,请稍后.....&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;购买道具：[&quot;</span> + <span class="built_in">this</span>.PAY_NAME[<span class="built_in">this</span>.mPayIndex] + <span class="string">&quot;] 成功！&quot;</span>;</span><br><span class="line">        BLHelper.purchaseComplete(<span class="built_in">this</span>.PRO_ID_Str[<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">        BLHelper.closeShieldLayer();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>有童靴反应真机内购,会卡在”正在处理,请稍后…..”,其实这个要等一会的,等一会儿就消失了.<br>不愿意等太长时间,那么就干脆干掉她,如下,只要上面说的两个goto :goto_0夹着那段代码,另外记得这里面的代码,需要合并处理this指针问题哟.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInYidong</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;购买道具：[&quot;</span> + <span class="built_in">this</span>.PAY_NAME[<span class="built_in">this</span>.mPayIndex] + <span class="string">&quot;] 成功！&quot;</span>;</span><br><span class="line">        BLHelper.purchaseComplete(<span class="built_in">this</span>.PRO_ID_Str[<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="补充一个统一伪装为联通-游戏联盟支付后-直接领取游戏联盟包月-铂金会员礼包"><a href="#补充一个统一伪装为联通-游戏联盟支付后-直接领取游戏联盟包月-铂金会员礼包" class="headerlink" title="补充一个统一伪装为联通,游戏联盟支付后,直接领取游戏联盟包月,铂金会员礼包"></a>补充一个统一伪装为联通,游戏联盟支付后,直接领取游戏联盟包月,铂金会员礼包</h5><p>找字符串</p>
<blockquote>
<p>purchaseMonthlyContract&gt;&gt;&gt;command is {“command”:”month_order_25”</p>
<p>purchaseMonthlyContract&gt;&gt;&gt;respond is {“md5”:””,”msg”:”用户取消”,”result”:3,”firstOrder”:””}</p>
<p>purchaseMonthlyContract&gt;&gt;&gt;respond is</p>
<p>purchaseMonthlyContract&gt;&gt;&gt;command is</p>
</blockquote>
<p>修改purchaseMonthlyContract函数如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">purchaseMonthlyContract</span><span class="params">(I)</span>V</span><br><span class="line">    .locals <span class="number">5</span></span><br><span class="line">    .param p1, <span class="string">&quot;command&quot;</span>    # I</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">996</span></span><br><span class="line">    <span class="keyword">new</span>-instance v1, Lorg/json/JSONObject;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v1&#125;, Lorg/json/JSONObject;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">998</span></span><br><span class="line">    .local v1, <span class="string">&quot;object&quot;</span>:Lorg/json/JSONObject;</span><br><span class="line">    :try_start_0</span><br><span class="line">    const-string v2, <span class="string">&quot;command&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span>-instance v3, Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v3&#125;, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">    const-string v4, <span class="string">&quot;month_order_&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3, v4&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    move-result-object v3</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3, p1&#125;, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    move-result-object v3</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3&#125;, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v3</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v1, v2, v3&#125;, Lorg/json/JSONObject;-&gt;put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;</span><br><span class="line">    :try_end_0</span><br><span class="line">    .<span class="keyword">catch</span> Lorg/json/JSONException; &#123;:try_start_0 .. :try_end_0&#125; :catch_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">1002</span></span><br><span class="line">    :goto_0</span><br><span class="line">    sget-object v2, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;LOG_TAG:Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span>-instance v3, Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;v3&#125;, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V</span><br><span class="line"></span><br><span class="line">    const-string v4, <span class="string">&quot;purchaseMonthlyContract&gt;&gt;&gt;command is &quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3, v4&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    move-result-object v3</span><br><span class="line"></span><br><span class="line">    .line <span class="number">1003</span></span><br><span class="line">    invoke-virtual &#123;v1&#125;, Lorg/json/JSONObject;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v4</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3, v4&#125;, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;</span><br><span class="line"></span><br><span class="line">    move-result-object v3</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v3&#125;, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v3</span><br><span class="line"></span><br><span class="line">    .line <span class="number">1002</span></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v2, v3&#125;, Landroid/util/Log;-&gt;d(Ljava/lang/String;Ljava/lang/String;)I</span><br><span class="line"></span><br><span class="line">    .line <span class="number">1004</span></span><br><span class="line">    #invoke-<span class="keyword">static</span> &#123;&#125;, Lcom/unicom/dcLoader/Utils;-&gt;getInstances()Lcom/unicom/dcLoader/Utils;</span><br><span class="line"></span><br><span class="line">    #move-result-object v2</span><br><span class="line"></span><br><span class="line">    #invoke-virtual &#123;v1&#125;, Lorg/json/JSONObject;-&gt;toString()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    #move-result-object v3</span><br><span class="line"></span><br><span class="line">    #<span class="keyword">new</span>-instance v4, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    #invoke-direct &#123;v4, p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL$<span class="number">10</span>;-&gt;&lt;init&gt;(Lcom/DBGame/DiabloLOL/DiabloLOL;)V</span><br><span class="line"></span><br><span class="line">    #invoke-virtual &#123;v2, p0, v3, v4&#125;, Lcom/unicom/dcLoader/Utils;-&gt;customCommand(Landroid/content/Context;Ljava/lang/String;Lcom/unicom/dcLoader/Utils$UnipayCommandResultListener;)V</span><br><span class="line">    </span><br><span class="line">    ######</span><br><span class="line">    .line <span class="number">1019</span></span><br><span class="line">    const/<span class="number">4</span> v4, <span class="number">0x1</span>  #游戏联盟铂金已经包月<span class="number">0x1</span></span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v4&#125;, Lcom/DBGame/Common/BLHelper;-&gt;onMonthlyContractPurchased(Z)V</span><br><span class="line">    ######</span><br><span class="line"></span><br><span class="line">    .line <span class="number">1032</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">999</span></span><br><span class="line">    :catch_0</span><br><span class="line">    move-exception v0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">1000</span></span><br><span class="line">    .local v0, <span class="string">&quot;e&quot;</span>:Lorg/json/JSONException;</span><br><span class="line">    invoke-virtual &#123;v0&#125;, Lorg/json/JSONException;-&gt;printStackTrace()V</span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<h5 id="几种支付方式如下-短信-联通-移动-Egame支付"><a href="#几种支付方式如下-短信-联通-移动-Egame支付" class="headerlink" title="几种支付方式如下:(短信,联通,移动,Egame支付)"></a>几种支付方式如下:(短信,联通,移动,Egame支付)</h5><p>其中电信用的是Egame支付</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInDuanXin</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (RECHARGE_CHANNELS.indexOf(String.valueOf(<span class="built_in">this</span>.iFromPay)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">2</span>) &#123;</span><br><span class="line">            payInUnicom();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">0</span>) &#123;</span><br><span class="line">            payInYidong();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">1</span>) &#123;</span><br><span class="line">            payInEgame();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInUnicom</span><span class="params">()</span> &#123;</span><br><span class="line">    Utils.getInstances().pay(<span class="built_in">this</span>, <span class="built_in">this</span>.PAY_CODE_UNICOM[<span class="built_in">this</span>.mPayIndex], <span class="keyword">new</span> <span class="title class_">UnipayPayResultListener</span>() &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">PayResult</span><span class="params">(String arg0, <span class="type">int</span> arg1, <span class="type">int</span> arg2, String arg3)</span> &#123;</span><br><span class="line">            <span class="keyword">switch</span> (arg1) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    DiabloLOL.<span class="built_in">this</span>.setPayment();</span><br><span class="line">                    BLHelper.purchaseComplete(DiabloLOL.<span class="built_in">this</span>.PRO_ID_Str[DiabloLOL.<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">                    BLHelper.closeShieldLayer();</span><br><span class="line">                    Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Unicom支付成功&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    BLHelper.closeShieldLayer();</span><br><span class="line">                    Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Unicom支付Fail&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    BLHelper.closeShieldLayer();</span><br><span class="line">                    Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Unicom支付cancel&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Unicom支付Default&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInYidong</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (LOLConstant.sCMCC_OPEN == <span class="number">0</span>) &#123;</span><br><span class="line">        BLHelper.showShieldLayer(<span class="string">&quot;正在处理,请稍后.....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    GameInterface.doBilling(<span class="built_in">this</span>, <span class="literal">true</span>, <span class="literal">true</span>, <span class="built_in">this</span>.PAY_CODE_MM[<span class="built_in">this</span>.mPayIndex], <span class="literal">null</span>, <span class="built_in">this</span>.payCallback);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">payInEgame</span><span class="params">()</span> &#123;</span><br><span class="line">    HashMap&lt;String, String&gt; payParams = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">    payParams.put(EgamePay.PAY_PARAMS_KEY_TOOLS_ALIAS, <span class="built_in">this</span>.PAY_CODE_SMS[<span class="built_in">this</span>.mPayIndex]);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.iOpen == -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.iOpen = BLHelper.getOpenCTCC(<span class="string">&quot;ctcc&quot;</span>, <span class="built_in">this</span>, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;iOpen=&quot;</span> + <span class="built_in">this</span>.iOpen);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.iOpen == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.gameManager.gameConfig.PaySdkUIForCP = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gameManager.gameConfig.PaySdkUIForCP = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.gameManager.EGamePay(payParams, <span class="keyword">new</span> <span class="title class_">EgamePayListener</span>() &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paySuccess</span><span class="params">(Map&lt;String, String&gt; map)</span> &#123;</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.setPayment();</span><br><span class="line">            BLHelper.purchaseComplete(DiabloLOL.<span class="built_in">this</span>.PRO_ID_Str[DiabloLOL.<span class="built_in">this</span>.mPayIndex], <span class="number">1</span>);</span><br><span class="line">            BLHelper.closeShieldLayer();</span><br><span class="line">            Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Egame支付成功&quot;</span>);</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.mPayIndex = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">payFailed</span><span class="params">(Map&lt;String, String&gt; map, <span class="type">int</span> arg1)</span> &#123;</span><br><span class="line">            BLHelper.closeShieldLayer();</span><br><span class="line">            Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Egame支付Fail==&quot;</span> + arg1);</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.mPayIndex = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">payCancel</span><span class="params">(Map&lt;String, String&gt; map)</span> &#123;</span><br><span class="line">            BLHelper.closeShieldLayer();</span><br><span class="line">            Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;Egame支付Cancel&quot;</span>);</span><br><span class="line">            DiabloLOL.<span class="built_in">this</span>.mPayIndex = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="另一种新的统一支付的方法"><a href="#另一种新的统一支付的方法" class="headerlink" title="另一种新的统一支付的方法:"></a>另一种新的统一支付的方法:</h5><p>短信支付统一调用 buyWithoutPay</p>
<p>例如,修改移动支付</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">719</span></span><br><span class="line"><span class="comment">#invoke-direct &#123;p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;payInYidong()V</span></span><br><span class="line">invoke-direct &#123;p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;<span class="title function_ invoke__">buyWithoutPay</span>()V</span><br><span class="line"></span><br><span class="line"><span class="keyword">goto</span> :goto_0</span><br></pre></td></tr></table></figure>

<p>修改短信支付函数 payInDuanXin</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInDuanXin</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (RECHARGE_CHANNELS.indexOf(String.valueOf(<span class="built_in">this</span>.iFromPay)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        showFiles();</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">2</span>) &#123;</span><br><span class="line">            payInUnicom();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">0</span>) &#123;</span><br><span class="line">            payInYidong();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">1</span>) &#123;</span><br><span class="line">            payInEgame();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改后的 payInDuanXin 函数变为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">payInDuanXin</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (RECHARGE_CHANNELS.indexOf(String.valueOf(<span class="built_in">this</span>.iFromPay)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        showFiles();</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">2</span>) &#123;</span><br><span class="line">            buyWithoutPay();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">0</span>) &#123;</span><br><span class="line">            buyWithoutPay();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.iFromPay == <span class="number">1</span>) &#123;</span><br><span class="line">            buyWithoutPay();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>统一为短信支付或者调用强大buyWithoutPay的函数</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">invoke-direct &#123;p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;<span class="title function_ invoke__">payInDuanXin</span>()V</span><br><span class="line"><span class="comment">### 不需要支付购买,竟然有这函数</span></span><br><span class="line">invoke-direct &#123;p0&#125;, Lcom/DBGame/DiabloLOL/DiabloLOL;-&gt;<span class="title function_ invoke__">buyWithoutPay</span>()V</span><br></pre></td></tr></table></figure>

<p>anzhi平台的 payInAnzhi 函数替换为 payInDuanXin 或者 buyWithoutPay</p>
<p>修改 handleMessage 函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.<span class="keyword">class</span> <span class="title class_">Lcom</span>/DBGame/DiabloLOL/DiabloLOL$<span class="number">4</span>;</span><br><span class="line">.super Landroid/os/Handler;</span><br><span class="line">.source <span class="string">&quot;DiabloLOL.java&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># virtual methods</span></span><br><span class="line">.<span class="function">method <span class="keyword">public</span> <span class="title">handleMessage</span><span class="params">(Landroid/os/Message;)</span>V</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    .line 623</span></span><br><span class="line"><span class="function">    :cond_0</span></span><br><span class="line"><span class="function">    sget v2, Lcom/DBGame/Common/BLHelper;</span>-&gt;IPAYTAYPE:I</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span>/<span class="number">4</span> v3, <span class="number">0x2</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span>-ne v2, v3, :cond_1 </span></span><br><span class="line">    ### 无论支付类型 BLHelper.IPAYTAYPE 是否等于<span class="number">2</span>都跳到短信支付</span><br><span class="line">    <span class="keyword">goto</span>  :cond_1</span><br></pre></td></tr></table></figure>

<p>handleMessage 原函数为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleMessage</span><span class="params">(Message msg)</span> &#123;</span><br><span class="line">         <span class="keyword">switch</span> (msg.what) &#123;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.exitGame();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">                 ((ClipboardManager) Cocos2dxActivity.getContext().getSystemService(<span class="string">&quot;clipboard&quot;</span>)).setPrimaryClip(ClipData.newPlainText(<span class="string">&quot;text&quot;</span>, BLHelper.copyString));</span><br><span class="line">                 Toast.makeText(DiabloLOL.<span class="built_in">this</span>, <span class="string">&quot;拷贝成功！&quot;</span>, <span class="number">0</span>).show();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">30</span>:</span><br><span class="line">                 Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;BLHelper.IPAYTAYPE==&quot;</span> + BLHelper.IPAYTAYPE);</span><br><span class="line">                 <span class="keyword">if</span> (BLHelper.IPAYTAYPE == <span class="number">1</span>) &#123;</span><br><span class="line">                     DiabloLOL.<span class="built_in">this</span>.payInDuanXin();</span><br><span class="line">                     <span class="keyword">return</span>;</span><br><span class="line">                 &#125; <span class="keyword">else</span> <span class="keyword">if</span> (BLHelper.IPAYTAYPE == <span class="number">2</span>) &#123;</span><br><span class="line">                     DiabloLOL.<span class="built_in">this</span>.payInAnzhi(DiabloLOL.<span class="built_in">this</span>.mPayIndex);</span><br><span class="line">                     <span class="keyword">return</span>;</span><br><span class="line">                 &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                     DiabloLOL.<span class="built_in">this</span>.payInDuanXin();</span><br><span class="line">                     <span class="keyword">return</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">102</span>:</span><br><span class="line">                 OGPub.Instance().closeLoad();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="number">200</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.showBanner();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_HIDEBANNER <span class="comment">/*210*/</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.hideBanner();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_SHOW_INTER_AD <span class="comment">/*211*/</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.showInterAd(msg.arg1);</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_SHOWLARGEBANNER <span class="comment">/*212*/</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.iSendMessage = msg.arg1;</span><br><span class="line">                 Log.e(<span class="string">&quot;qq&quot;</span>, <span class="string">&quot;==iSendMessage&quot;</span> + DiabloLOL.<span class="built_in">this</span>.iSendMessage);</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.showLargeBanner();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_SHOWNYTOPBANNER <span class="comment">/*213*/</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.showTopBanner();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_REYUN_EXIT <span class="comment">/*400*/</span>:</span><br><span class="line">                 ReYun.exitSdk();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_SHOWSHARE <span class="comment">/*420*/</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.showShareDialog();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_SAVEPIC <span class="comment">/*450*/</span>:</span><br><span class="line">                 BLHelper.savePic();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_MONTHCONTRA <span class="comment">/*470*/</span>:</span><br><span class="line">                 DiabloLOL.<span class="built_in">this</span>.purchaseMonthlyContract(msg.arg1);</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">case</span> DiabloLOL.HANDLER_HIDEWEBDATA <span class="comment">/*998*/</span>:</span><br><span class="line">                 BLHelper.webout();</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">             <span class="keyword">default</span>:</span><br><span class="line">                 <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>






      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/06/26/%E7%81%AB%E6%9F%B4%E4%BA%BA%E8%81%94%E7%9B%9F%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81%E5%8E%BB%E5%B9%BF%E5%91%8AAndroid%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/" data-id="cl3j4iura000r49je55vo7pxy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/46003/" rel="tag">46003</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Crack/" rel="tag">Crack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android-killer/" rel="tag">android killer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/egame/" rel="tag">egame</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jadx/" rel="tag">jadx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/logcat/" rel="tag">logcat</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/signatures/" rel="tag">signatures</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smali/" rel="tag">smali</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%86%85%E8%B4%AD/" rel="tag">内购</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%BB%E5%B9%BF%E5%91%8A/" rel="tag">去广告</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" rel="tag">签名验证</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-饥饿鲨：进化去so签名验证Android内购破解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/24/%E9%A5%A5%E9%A5%BF%E9%B2%A8%EF%BC%9A%E8%BF%9B%E5%8C%96%E5%8E%BBso%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/" class="article-date">
  <time datetime="2017-06-24T08:17:00.000Z" itemprop="datePublished">2017-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a>►<a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E7%A0%B4%E8%A7%A3-Crack/">破解(Crack)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/24/%E9%A5%A5%E9%A5%BF%E9%B2%A8%EF%BC%9A%E8%BF%9B%E5%8C%96%E5%8E%BBso%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/">饥饿鲨：进化去so签名验证Android内购破解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>—Creaked by  B.S. 6/24/2017 16:17:58 PM</p>
<p>无聊练手,当作学习Android优秀源码的笔记</p>
<p><strong>仅供学习研究,请勿用作商业用途,如若喜欢请支持正版!</strong></p>
<p>原程序:(v4.3.1.0)</p>
<p><a target="_blank" rel="noopener" href="http://download.cmgame.com:8080/entry?C=0300000001&ContentID=602716016815&F=10375624_10375626&T=7545f23059fc4de7ad9b2caf9c0296ed&D=0&Y=2&H=12064000&M=0&P=1&G=0&U=0&E=6118&R=DL&A=006043315000&W=760000014920&CFM=1&GCT=0&FN=%5Bg.10086.cn%5DJESJH.apk&CPN=0&PLT=1&PLK=f7dc5a576034a89040bbb84f4b17bf3e20170614102619&TIP=223.74.103.72&S=779817f9669519f9c82386698c0d0689" title="饥饿鲨:进化 移动咪咕版">移动下载</a>v4.3.1.0(D)</p>
<p><a target="_blank" rel="noopener" href="http://123.66.30.56/apk.r1.market.hiapk.com/data/upload/apkres/2017/4_28/12/com.fgol.bd_120613.apk?wsiphost=ipdb" title="饥饿鲨:进化 百度游戏版">百度下载</a>v4.3.1.0(D)百度版</p>
<p>B.S.内购破解版:</p>
<p><a target="_blank" rel="noopener" href="http://www.8idone.com/app/[g.10086.cn]JESJH_BS-v4.3.1.0.apk" title="饥饿鲨:进化 B.S.破解版">百度下载</a> v4.3.1.0(E)</p>
<p>也可以去各大安卓市场搜索下载最新版本:(推荐支付接口比较熟悉的移动,咪咕游戏,爱游戏)</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.play.cn/" title="爱游戏">爱游戏: http://www.play.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://g.10086.cn/" title="咪咕游戏">咪咕游戏: http://g.10086.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://mm.10086.cn/android" title="中国移动应用商城">中国移动应用商城: http://mm.10086.cn/android</a></p>
<p><a target="_blank" rel="noopener" href="http://android.myapp.com/" title="腾讯应用宝">腾讯应用宝: http://android.myapp.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://zhushou.360.cn/" title="360手机助手">360手机助手: http://zhushou.360.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://apk.hiapk.com/" title="安卓市场">百度旗下安卓市场: http://apk.hiapk.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://www.anzhi.com/" title="安智市场">安智市场: http://www.anzhi.com/</a></p>
</blockquote>
<p>有图有真相,动画演示:</p>
<p><img src="/images/jesjh-bs-cr-001.png" alt="无限内购B.S.破解版"></p>
<h3 id="1-内购破解"><a href="#1-内购破解" class="headerlink" title="1. 内购破解:"></a>1. 内购破解:</h3><p>搜索logcat定位字符串,</p>
<blockquote>
<p>支付 测试:</p>
<p>g+:</p>
<p>unity购买失败</p>
<p>unity购买成功</p>
</blockquote>
<p>还可以通过查找\res\values\strings.xml有没有支付相关字符串可以用,</p>
<blockquote>
<p>解析支付协议失败</p>
<p>ourpalm_tip_prasecharginfoerror</p>
</blockquote>
<p>找到在下面这个函数里,</p>
<blockquote>
<p>.class public Lourpalm/android/pay/Ourpalm_Entry;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “Ourpalm_Entry.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">private</span> <span class="title function_">Ourpalm_Pay_FormSdk</span><span class="params">(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Lourpalm/android/callback/Ourpalm_PaymentCallBack;Ljava/lang/String;Ljava/lang/String;)</span>V</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">718</span></span><br><span class="line">:cond_4</span><br><span class="line">sget-object v1, Lourpalm/android/pay/Ourpalm_Entry_Model;-&gt;mActivity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">.line <span class="number">720</span></span><br><span class="line">sget-object v2, Lourpalm/android/pay/Ourpalm_Entry_Model;-&gt;mActivity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">.line <span class="number">721</span></span><br><span class="line">const-string v3, <span class="string">&quot;ourpalm_tip_prasecharginfoerror&quot;</span></span><br><span class="line"></span><br><span class="line">.line <span class="number">719</span></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v2, v3&#125;, Lourpalm/android/pay/Ourpalm_GetResId;-&gt;GetString(Landroid/content/Context;Ljava/lang/String;)Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">move-result-object v2</span><br><span class="line"></span><br><span class="line">.line <span class="number">722</span></span><br><span class="line">const/<span class="number">4</span> v3, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">.line <span class="number">718</span></span><br><span class="line">#可以注释掉不提示,解析支付协议失败,这里注意这个函数里<span class="number">16</span>个寄存器都给用了</span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v1, v2, v3&#125;, Lourpalm/android/view/Ourpalm_Toast;-&gt;makeText(Landroid/content/Context;Ljava/lang/String;I)V</span><br><span class="line"></span><br><span class="line">######Toast显示自定义字符串</span><br><span class="line">const-string v3, <span class="string">&quot;\u65e0\u9650\u5185\u8d2dB.S.\u7834\u89e3\u7248\n www.appleos.xyz \n-- by B.S.&quot;</span></span><br><span class="line">move-object/from16 v2, v3</span><br><span class="line">const/<span class="number">4</span> v3, <span class="number">0x0</span></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v1, v2, v3&#125;, Lourpalm/android/view/Ourpalm_Toast;-&gt;makeText(Landroid/content/Context;Ljava/lang/String;I)V</span><br><span class="line">######</span><br></pre></td></tr></table></figure>


<p>在Ourpalm_Pay_FormSdk方法函数里,想要跳过支付窗口,不弹窗框的,要跳到cond_4去.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">714</span></span><br><span class="line">goto :cond_4  #直接跳过下面的pay支付框 #<span class="keyword">if</span>-eqz v1, :cond_4</span><br><span class="line"></span><br><span class="line">.line <span class="number">716</span></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;&#125;, Lourpalm/android/channels/Ourpalm_Channels_Manage;-&gt;getInstance()Lourpalm/android/channels/Ourpalm_Channels_Manage;</span><br><span class="line"></span><br><span class="line">move-result-object v1</span><br><span class="line"></span><br><span class="line">invoke-virtual &#123;v1&#125;, Lourpalm/android/channels/Ourpalm_Channels_Manage;-&gt;Pay()Z</span><br><span class="line"></span><br><span class="line">goto/<span class="number">16</span> :goto_0</span><br><span class="line"></span><br><span class="line">.line <span class="number">718</span></span><br><span class="line">:cond_4</span><br><span class="line">sget-object v1, Lourpalm/android/pay/Ourpalm_Entry_Model;-&gt;mActivity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">.line <span class="number">720</span></span><br><span class="line">sget-object v2, Lourpalm/android/pay/Ourpalm_Entry_Model;-&gt;mActivity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">.line <span class="number">721</span></span><br><span class="line">const-string v3, <span class="string">&quot;ourpalm_tip_prasecharginfoerror&quot;</span></span><br></pre></td></tr></table></figure>

<p>改失败为直接成功然后,goto返回</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">723</span></span><br><span class="line">sget-object v1, Lourpalm/android/pay/Ourpalm_Statics;-&gt;mChargingResult:Lourpalm/android/callback/Ourpalm_PaymentCallBack;</span><br><span class="line"></span><br><span class="line">.line <span class="number">724</span></span><br><span class="line">const/<span class="number">16</span> v2, <span class="number">0x6a</span></span><br><span class="line"></span><br><span class="line">const-string v3, <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">.line <span class="number">723</span></span><br><span class="line">move-object/from16 v0, p1</span><br><span class="line"></span><br><span class="line">#invoke-virtual &#123;v1, v2, v3, v0&#125;, Lourpalm/android/callback/Ourpalm_PaymentCallBack;-&gt;Ourpalm_PaymentFail(ILjava/lang/String;Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">#######这里换为调用成功</span><br><span class="line">invoke-virtual &#123;v1, v2, v3, v0&#125;, Lourpalm/android/callback/Ourpalm_PaymentCallBack;-&gt;Ourpalm_PaymentSuccess(ILjava/lang/String;Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">.line <span class="number">725</span></span><br><span class="line">const/<span class="number">4</span> v1, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">sput-<span class="type">boolean</span> v1, Lourpalm/android/pay/Ourpalm_Statics;-&gt;IsExecute:Z</span><br><span class="line"></span><br><span class="line">goto/<span class="number">16</span> :goto_0</span><br><span class="line"></span><br><span class="line">.line <span class="number">732</span></span><br><span class="line">:cond_5</span><br></pre></td></tr></table></figure>



<p>另外一种破解方法(第2种改法),也可以搜索字符</p>
<blockquote>
<p>Ourpalm_PaymentFail</p>
<p>支付失败</p>
<p>ourpalm_tip_gw_chargfail</p>
</blockquote>
<p>看哪里调用引用了这个方法函数</p>
<blockquote>
<p>.class public Lcom/fgol/OurpalmIAPListener;</p>
<p>.super Lourpalm/android/callback/Ourpalm_PaymentCallBack;</p>
<p>.source “OurpalmIAPListener.java”</p>
</blockquote>
<p>用成功的代码替换掉失败方法里的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">Ourpalm_PaymentSuccess</span><span class="params">(ILjava/lang/String;Ljava/lang/String;)</span>V</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">Ourpalm_PaymentFail</span><span class="params">(ILjava/lang/String;Ljava/lang/String;)</span>V</span><br></pre></td></tr></table></figure>

<p>这里只需要修改一句调用的函数,修改如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">Ourpalm_PaymentFail</span><span class="params">(ILjava/lang/String;Ljava/lang/String;)</span>V</span><br><span class="line">    .locals <span class="number">4</span></span><br><span class="line">    .param p1, <span class="string">&quot;arg0&quot;</span>    # I</span><br><span class="line">    .param p2, <span class="string">&quot;arg1&quot;</span>    # Ljava/lang/String;</span><br><span class="line">    .param p3, <span class="string">&quot;arg2&quot;</span>    # Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">74</span></span><br><span class="line">    <span class="keyword">if</span>-nez p2, :cond_0</span><br><span class="line"></span><br><span class="line">    const-string v0, <span class="string">&quot;000000&quot;</span></span><br><span class="line"></span><br><span class="line">    .line <span class="number">75</span></span><br><span class="line">    .local v0, <span class="string">&quot;tid&quot;</span>:Ljava/lang/String;</span><br><span class="line">    :goto_0</span><br><span class="line">    iget-object v1, p0, Lcom/fgol/OurpalmIAPListener;-&gt;context:Lcom/fgol/IAPInterface;</span><br><span class="line"></span><br><span class="line">    #invoke-virtual &#123;v1, v0&#125;, Lcom/fgol/IAPInterface;-&gt;purchaseFailed(Ljava/lang/String;)V</span><br><span class="line">    ######这里替换为成功的方法函数,失败变成功,上面原来的语句删掉或者注释掉即可</span><br><span class="line">    invoke-virtual &#123;v1, v0&#125;, Lcom/fgol/IAPInterface;-&gt;purchaseSuccess(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .line <span class="number">76</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>来看一下java源码,就知道改那个语句了:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Ourpalm_PaymentFail</span><span class="params">(<span class="type">int</span> i, String str, String str2)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.context.purchaseFailed(str == <span class="literal">null</span> ? <span class="string">&quot;000000&quot;</span> : str);</span><br><span class="line">    Log.d(<span class="string">&quot;HSE&quot;</span>, <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(String.valueOf(i)).append(<span class="string">&quot;支付失败##&quot;</span>).append(str).append(<span class="string">&quot;##&quot;</span>).append(str2).toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Ourpalm_PaymentSuccess</span><span class="params">(<span class="type">int</span> i, String str, String str2)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.context.purchaseSuccess(str == <span class="literal">null</span> ? <span class="string">&quot;000000&quot;</span> : str);</span><br><span class="line">    Log.d(<span class="string">&quot;HSE&quot;</span>, <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(String.valueOf(i)).append(<span class="string">&quot;支付成功##&quot;</span>).append(str).append(<span class="string">&quot;##&quot;</span>).append(str2).toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者进入purchaseFailed函数方法里面去改(这是第3种改法了):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">246</span></span><br><span class="line">#const-string v1, <span class="string">&quot;purchaseFailed&quot;</span></span><br><span class="line">######这换改为传入成功的消息参数</span><br><span class="line">const-string v1, <span class="string">&quot;purchaseSucceeded&quot;</span></span><br></pre></td></tr></table></figure>

<p>源码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">purchaseFailed</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    Log.d(TAG, <span class="string">&quot;unity购买失败&quot;</span> + str);</span><br><span class="line">    <span class="keyword">if</span> (!isCanBuy()) &#123;</span><br><span class="line">        UnityPlayer.UnitySendMessage(<span class="string">&quot;IAPCNManager&quot;</span>, <span class="string">&quot;purchaseFailed&quot;</span>, str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">purchaseSuccess</span><span class="params">(String str)</span> &#123;</span><br><span class="line">    Log.d(TAG, <span class="string">&quot;unity购买成功&quot;</span> + str);</span><br><span class="line">    <span class="keyword">if</span> (!isCanBuy()) &#123;</span><br><span class="line">        UnityPlayer.UnitySendMessage(<span class="string">&quot;IAPCNManager&quot;</span>, <span class="string">&quot;purchaseSucceeded&quot;</span>, str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="2-去so签名验证"><a href="#2-去so签名验证" class="headerlink" title="2. 去so签名验证:"></a>2. 去so签名验证:</h3><p>android killer修改内购破解后直接回编译后安装游戏,进游戏闪退,是有签名验证的.</p>
<p>搜索定位字符串</p>
<blockquote>
<p>signatures</p>
</blockquote>
<p>没有什么实用价值的代码</p>
<p>再搜索</p>
<blockquote>
<p>内购接口初始化</p>
<p>ShareSDKUtils.prepare</p>
</blockquote>
<p>向上回溯,哪里引用到了,定位到.method protected onCreate(Landroid/os/Bundle;)V<br>在下面的内购界面的类里,先看看源码,关键在public void init()函数里:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle bundle)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>.onCreate(bundle);</span><br><span class="line">    <span class="built_in">this</span>.mContext = <span class="built_in">this</span>;</span><br><span class="line">    init();</span><br><span class="line">    UMGameAgent.setDebugMode(<span class="literal">true</span>);</span><br><span class="line">    UMGameAgent.init(<span class="built_in">this</span>.mContext);</span><br><span class="line">    ShareSDKUtils.prepare(getApplicationContext());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">    Log.d(TAG, <span class="string">&quot;内购接口初始化&quot;</span>);</span><br><span class="line">    FlurryHelper.init(<span class="built_in">this</span>.mContext);</span><br><span class="line">    getMobileType(<span class="built_in">this</span>.mContext);</span><br><span class="line">    Log.d(TAG, <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(String.valueOf(<span class="built_in">this</span>.mContext.getPackageName())).append(<span class="string">&quot;++&quot;</span>).append(<span class="built_in">this</span>.mContext.toString()).toString());</span><br><span class="line">    <span class="built_in">this</span>.mIAPIdentifier = <span class="keyword">new</span> <span class="title class_">IAPIdentifier</span>();</span><br><span class="line">    <span class="built_in">this</span>.mListener = <span class="keyword">new</span> <span class="title class_">OurpalmIAPListener</span>(<span class="built_in">this</span>);</span><br><span class="line">    Ourpalm_Entry.getInstance(<span class="built_in">this</span>).Ourpalm_Init(<span class="string">&quot;2&quot;</span>, <span class="string">&quot;1.0&quot;</span>, <span class="string">&quot;1.0&quot;</span>, <span class="built_in">this</span>.mListener);</span><br><span class="line">    setCanBuy(<span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>经验:所以在没有找着有用信息是,去onCreate瞧一瞧,也许会有惊奇的发现</p>
<blockquote>
<p>.class public Lcom/fgol/IAPInterface;</p>
<p>.super Lcom/unity3d/player/UnityPlayerActivity;</p>
<p>.source “IAPInterface.java”</p>
</blockquote>
<p>跟进,查看Ourpalm_Init函数方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Ourpalm_Init</span><span class="params">(String str, String str2, String str3, Ourpalm_CallBackListener ourpalm_CallBackListener)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (ourpalm_CallBackListener == <span class="literal">null</span>) &#123;</span><br><span class="line">        Logs.e(TAG, <span class="string">&quot;Ourpalm_Init  mCallBackListener == null&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String string;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">ApplicationInfo</span> <span class="variable">applicationInfo</span> <span class="operator">=</span> Ourpalm_Entry_Model.mActivity.getPackageManager().getApplicationInfo(Ourpalm_Entry_Model.mActivity.getPackageName(), <span class="number">128</span>);</span><br><span class="line">        <span class="keyword">if</span> (applicationInfo != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;show&quot;</span>.equals(applicationInfo.metaData.getString(<span class="string">&quot;useShowLog&quot;</span>))) &#123;</span><br><span class="line">                Logs.isShowLog_1 = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">this</span>.useImplicitLogon = applicationInfo.metaData.getString(<span class="string">&quot;useImplicitLogon&quot;</span>);</span><br><span class="line">            Logs.i(TAG, <span class="string">&quot;useImplicitLogon == &quot;</span> + <span class="built_in">this</span>.useImplicitLogon);</span><br><span class="line">            string = applicationInfo.metaData.getString(<span class="string">&quot;useCheckLog&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (string != <span class="literal">null</span> &amp;&amp; <span class="string">&quot;NO&quot;</span>.equals(string)) &#123;</span><br><span class="line">                <span class="built_in">this</span>.useCheckLog = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Logs.i(TAG, <span class="string">&quot;useCheckLog == &quot;</span> + <span class="built_in">this</span>.useCheckLog);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    Ourpalm_Statics.mCallBackListener = ourpalm_CallBackListener;</span><br><span class="line">    GameInfo.GameType = str;</span><br><span class="line">    Ourpalm_Statics.GameRoleLoginType = <span class="number">0</span>;</span><br><span class="line">    Ourpalm_Statics.IsExecute = <span class="literal">false</span>;</span><br><span class="line">    Ourpalm_Statics.mSimType = Ourpalm_Statics.getSimType(Ourpalm_Entry_Model.mActivity);</span><br><span class="line">    initMapPhoneInfo();</span><br><span class="line">    <span class="built_in">this</span>.ourpalm_jni = <span class="keyword">new</span> <span class="title class_">ourpalm_android_SdkJni</span>();</span><br><span class="line">    <span class="built_in">this</span>.ourpalm_jni.RunSign(Ourpalm_Entry_Model.mActivity.getApplicationContext());</span><br><span class="line">    Ourpalm_Statics.Ourpalm_kkey = <span class="built_in">this</span>.ourpalm_jni.getPublicKey();</span><br><span class="line">    Ourpalm_Statics.UpdateSecretKey();</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().userInfo = <span class="keyword">new</span> <span class="title class_">Ourpalm_UserInfo</span>();</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().mOurpalm_Account_HeartBeat = <span class="keyword">new</span> <span class="title class_">Ourpalm_Account_HeartBeat</span>();</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().mGameInfo = <span class="keyword">new</span> <span class="title class_">GameInfo</span>();</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().mGameInfo.setGameResVersion(str3);</span><br><span class="line">    string = Ourpalm_Statics.getAppVersion(Ourpalm_Entry_Model.mActivity).trim();</span><br><span class="line">    <span class="keyword">if</span> (Ourpalm_Statics.IsNull(string)) &#123;</span><br><span class="line">        string = str2;</span><br><span class="line">    &#125;</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().mGameInfo.setGameVersion(string);</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().parseLocalData();</span><br><span class="line">    Ourpalm_CrashHandler.getInstance().init(Ourpalm_Entry_Model.mActivity);</span><br><span class="line">    Ourpalm_Statistics_Entry.getInstance().initStatisticsLog(Ourpalm_Entry_Model.mActivity);</span><br><span class="line">    Ourpalm_Entry_Model.getInstance().netInitData = <span class="keyword">new</span> <span class="title class_">NetInitData</span>();</span><br><span class="line">    <span class="built_in">this</span>.mOurpalm_Init_Net = <span class="keyword">new</span> <span class="title class_">Ourpalm_Init_Net</span>(<span class="built_in">this</span>.mInit_Net_callback);</span><br><span class="line">    <span class="keyword">if</span> (DK_GetPhoneInfo.getInstance(Ourpalm_Entry_Model.mActivity).NetworkIsAvailable()) &#123;</span><br><span class="line">        <span class="built_in">this</span>.mOurpalm_Init_Net.start(Ourpalm_Init_Net.INIT_NET_INIT);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (GameInfo.GameType == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="number">2</span>(<span class="built_in">this</span>)).start();</span><br><span class="line">    &#125;</span><br><span class="line">    Ourpalm_Channels_Manage.getInstance().init();</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.useCheckLog) &#123;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jSONObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            jSONObject.put(<span class="string">&quot;gameType&quot;</span>, str);</span><br><span class="line">            jSONObject.put(<span class="string">&quot;gameVer&quot;</span>, str2);</span><br><span class="line">            jSONObject.put(<span class="string">&quot;gameResVer&quot;</span>, str3);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (JSONException e2) &#123;</span><br><span class="line">            e2.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        sendCheckLog(<span class="string">&quot;Ourpalm_Init&quot;</span>, jSONObject.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>his.ourpalm_jni = new ourpalm_android_SdkJni();</p>
<p> this.ourpalm_jni.RunSign(Ourpalm_Entry_Model.mActivity.getApplicationContext());</p>
<p>Ourpalm_Statics.Ourpalm_kkey = this.ourpalm_jni.getPublicKey();<br>Ourpalm_Statics.UpdateSecretKey();</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title function_">RunSign</span><span class="params">(Context paramContext)</span>;</span><br></pre></td></tr></table></figure>
<p>下次维护,定位可以搜索</p>
<blockquote>
<p>RunSign</p>
<p>UpdateSecretKey</p>
<p>getSimType</p>
</blockquote>
<p>native函数,去初始化里,看看ourpalm_jni.RunSign是在哪里导入的,这里可以用IDEA调试smali代码在初始化下段然后单步跟踪,确定出这里是退出前的地方.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ourpalm_android_SdkJni ourpalm_jni;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">useCheckLog</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">private</span> String useImplicitLogon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    System.loadLibrary(<span class="string">&quot;ourpalm_sdk_a&quot;</span>);</span><br><span class="line">    System.loadLibrary(<span class="string">&quot;dumpcrash&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在lib文件夹里,找到libourpalm_sdk_a.so文件</p>
<blockquote>
<p>\lib\armeabi-v7a\libourpalm_sdk_a.so</p>
</blockquote>
<p>IDA载入,在导出函数表里Alt-T或者Ctrl-F搜索RunSign</p>
<blockquote>
<p>EXPORT Java_ourpalm_android_sdkjni_ourpalm_1android_1SdkJni_RunSign</p>
<p>.text:000244B4 Java_ourpalm_android_sdkjni_ourpalm_1android_1SdkJni_RunSign</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.text:000244C4 FF F7 3E FF                             BL              checksign</span><br><span class="line"></span><br><span class="line">.text:000244CE FF F7 55 FD                             BL              checkdexex</span><br></pre></td></tr></table></figure>

<p>用16进制工具C32Asm去掉,这两个函数call调用的地方</p>
<p>改为”悙悙” 即是,填充为0或者90</p>
<p>或者改为 00 00 A0 E1 是move r0,r0 相当于ARM汇编的NOP<br>又或者改为 00 F0 20 E3 是ARM汇编的NOP；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.text:000244C4 <span class="number">90</span> <span class="number">90</span> <span class="number">90</span> <span class="number">90</span>             aRrrr_0         DCB <span class="string">&quot;悙悙&quot;</span></span><br><span class="line"></span><br><span class="line">.text:000244CE <span class="number">90</span> <span class="number">90</span> <span class="number">90</span> <span class="number">90</span>             aRrrr           DCB <span class="string">&quot;悙悙&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>\lib\x86\libourpalm_sdk_a.so</p>
</blockquote>
<p>x86的也顺便一起处理了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.text:000302DA  90 90 90 90 90</span><br><span class="line"></span><br><span class="line">.text:000302EA  90 90 90 90 90</span><br></pre></td></tr></table></figure>

<h3 id="3-添加版权自定义提示等信息"><a href="#3-添加版权自定义提示等信息" class="headerlink" title="3. 添加版权自定义提示等信息"></a>3. 添加版权自定义提示等信息</h3><p>自己定义版权提示Unicode字符串:</p>
<blockquote>
<p>\u65e0\u9650\u5185\u8d2dB.S.\u7834\u89e3\u7248\n  <a href="http://www.appleos.xyz/">www.appleos.xyz</a> \n  \u7231\u6deb\u8361 \n  – by B.S.</p>
</blockquote>
<p>通常在启动页面或者闪屏页面的onCreate里插入log和弹出消息,又或者是利用程序自己的封装的消息机制.<br>比如,内购破解改法1里的:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">722</span></span><br><span class="line">const/<span class="number">4</span> v3, <span class="number">0x0</span></span><br><span class="line"></span><br><span class="line">.line <span class="number">718</span></span><br><span class="line">#可以注释掉不提示,解析支付协议失败,这里注意这个函数里<span class="number">16</span>个寄存器都给用了</span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v1, v2, v3&#125;, Lourpalm/android/view/Ourpalm_Toast;-&gt;makeText(Landroid/content/Context;Ljava/lang/String;I)V</span><br><span class="line"></span><br><span class="line">######Toast显示自定义字符串</span><br><span class="line">const-string v3, <span class="string">&quot;\u65e0\u9650\u5185\u8d2dB.S.\u7834\u89e3\u7248\n www.appleos.xyz \n-- by B.S.&quot;</span></span><br><span class="line">move-object/from16 v2, v3</span><br><span class="line">const/<span class="number">4</span> v3, <span class="number">0x0</span></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v1, v2, v3&#125;, Lourpalm/android/view/Ourpalm_Toast;-&gt;makeText(Landroid/content/Context;Ljava/lang/String;I)V</span><br><span class="line">######</span><br></pre></td></tr></table></figure>

<h3 id="4-统一支付接口"><a href="#4-统一支付接口" class="headerlink" title="4. 统一支付接口"></a>4. 统一支付接口</h3><p>只需要让getMobileType返回你想要伪装的类型值就行了,返回值为3是电信,1是移动,2是联通.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMobileType</span><span class="params">(Context context)</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">String</span> <span class="variable">simOperator</span> <span class="operator">=</span> ((TelephonyManager) context.getSystemService(<span class="string">&quot;phone&quot;</span>)).getSimOperator();</span><br><span class="line">    <span class="keyword">if</span> (simOperator.length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;未找到sim卡&quot;</span>);</span><br><span class="line">        i = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (simOperator.equals(<span class="string">&quot;46000&quot;</span>) || simOperator.equals(<span class="string">&quot;46002&quot;</span>) || simOperator.equals(<span class="string">&quot;46007&quot;</span>)) &#123;</span><br><span class="line">        i = <span class="number">1</span>;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;中国移动&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (simOperator.equals(<span class="string">&quot;46001&quot;</span>) || simOperator.equals(<span class="string">&quot;46006&quot;</span>)) &#123;</span><br><span class="line">        i = <span class="number">2</span>;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;中国联通&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (simOperator.equals(<span class="string">&quot;46003&quot;</span>) || simOperator.equals(<span class="string">&quot;46005&quot;</span>)) &#123;</span><br><span class="line">        i = <span class="number">3</span>;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;中国电信&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        Log.d(TAG, <span class="string">&quot;中国未知&quot;</span>);</span><br><span class="line">        i = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    mobileType = i;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要修改的类</p>
<blockquote>
<p>.class public Lcom/fgol/IAPInterface;</p>
<p>.super Lcom/unity3d/player/UnityPlayerActivity;</p>
<p>.source “IAPInterface.java”</p>
</blockquote>
<p>下面函数修改地方:</p>
<blockquote>
<p>.method public static getMobileType(Landroid/content/Context;)I</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.line <span class="number">130</span></span><br><span class="line">:goto_0</span><br><span class="line">###### 让返回值v2等于<span class="number">3</span>电信,<span class="number">1</span>移动,<span class="number">2</span>联通都可以</span><br><span class="line">const/<span class="number">4</span> v2, <span class="number">0x3</span></span><br><span class="line"></span><br><span class="line">sput v2, Lcom/fgol/IAPInterface;-&gt;mobileType:I</span><br><span class="line"></span><br><span class="line">.line <span class="number">132</span></span><br><span class="line">###### 自带日志输出  mobileType</span><br><span class="line">const-string v3, <span class="string">&quot;---B.S.---  mobileType= &quot;</span></span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v2&#125;, Ljava/lang/Integer;-&gt;toString(I)Ljava/lang/String;</span><br><span class="line">move-result-object v4</span><br><span class="line">invoke-<span class="keyword">static</span> &#123;v3, v4&#125;, Landroid/util/Log;-&gt;e(Ljava/lang/String;Ljava/lang/String;)I</span><br><span class="line">######</span><br><span class="line"><span class="keyword">return</span> v2</span><br></pre></td></tr></table></figure>





      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/06/24/%E9%A5%A5%E9%A5%BF%E9%B2%A8%EF%BC%9A%E8%BF%9B%E5%8C%96%E5%8E%BBso%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/" data-id="cl3j4iurd000v49je5lhecmmy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Crack/" rel="tag">Crack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android-killer/" rel="tag">android killer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jadx/" rel="tag">jadx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/native/" rel="tag">native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smali/" rel="tag">smali</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/so%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" rel="tag">so签名验证</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%86%85%E8%B4%AD/" rel="tag">内购</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" rel="tag">去签名验证</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-yodo1偶滴神(最SB塔防)Android内购破解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/14/yodo1%E5%81%B6%E6%BB%B4%E7%A5%9E(%E6%9C%80SB%E5%A1%94%E9%98%B2)Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/" class="article-date">
  <time datetime="2017-06-14T06:30:00.000Z" itemprop="datePublished">2017-06-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a>►<a class="article-category-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E7%A0%B4%E8%A7%A3-Crack/">破解(Crack)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/14/yodo1%E5%81%B6%E6%BB%B4%E7%A5%9E(%E6%9C%80SB%E5%A1%94%E9%98%B2)Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/">yodo1偶滴神(最SB塔防)Android内购破解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>—Creaked by  B.S. 6/14/2017 2:10:58 PM</p>
<p>无聊练手,当作学习Android优秀源码的笔记</p>
<p><strong>仅供学习研究,请勿用作商业用途,如若喜欢请支持正版!</strong></p>
<p>原程序:(貌似android 5.x 以上版本运行不起来)</p>
<p><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1o8fWad8">百度下载</a></p>
<p><a target="_blank" rel="noopener" href="http://www.yodo1.cn/archives/omg-td.html" title="游道易官网">游道易官网: http://www.yodo1.cn/archives/omg-td.html</a></p>
<p>B.S.内购破解版:</p>
<p><a target="_blank" rel="noopener" href="http://www.8idone.com/app/omg-TD-BS-Cr.apk">百度下载</a></p>
<p>也可以去各大安卓市场搜索下载最新版本:(推荐支付接口比较熟悉的移动,咪咕游戏,爱游戏)</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.play.cn/" title="爱游戏">爱游戏: http://www.play.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://g.10086.cn/" title="咪咕游戏">咪咕游戏: http://g.10086.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://mm.10086.cn/android" title="中国移动应用商城">中国移动应用商城: http://mm.10086.cn/android</a></p>
<p><a target="_blank" rel="noopener" href="http://android.myapp.com/" title="腾讯应用宝">腾讯应用宝: http://android.myapp.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://zhushou.360.cn/" title="360手机助手">360手机助手: http://zhushou.360.cn/</a></p>
<p><a target="_blank" rel="noopener" href="http://apk.hiapk.com/" title="安卓市场">百度旗下安卓市场: http://apk.hiapk.com/</a></p>
<p><a target="_blank" rel="noopener" href="http://www.anzhi.com/" title="安智市场">安智市场: http://www.anzhi.com/</a></p>
</blockquote>
<p>有图有真相,动画演示:</p>
<p><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1o89Ig7w">破解了移动接口的动画演示</a></p>
<p><img src="/images/omg-td-002.png" alt="无限内购B.S.破解版"></p>
<h3 id="1-找到支付相关的sdk类的关键破解点在”onResult”Method中"><a href="#1-找到支付相关的sdk类的关键破解点在”onResult”Method中" class="headerlink" title="1. 找到支付相关的sdk类的关键破解点在”onResult”Method中"></a>1. 找到支付相关的sdk类的关键破解点在”onResult”Method中</h3><blockquote>
<p>public void onResult(int arg0, String arg1, Object arg2)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">onResult</span><span class="params">(ILjava/lang/String;Ljava/lang/Object;)</span>V</span><br><span class="line">    .locals <span class="number">3</span></span><br><span class="line">    .param p1, <span class="string">&quot;arg0&quot;</span>    # I</span><br><span class="line">    .param p2, <span class="string">&quot;arg1&quot;</span>    # Ljava/lang/String;</span><br><span class="line">    .param p3, <span class="string">&quot;arg2&quot;</span>    # Ljava/lang/Object;</span><br><span class="line"></span><br><span class="line">    .prologue  #此处省略Java汇编smali代码若干</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<h3 id="2-android-killer出马java反编译后到路径"><a href="#2-android-killer出马java反编译后到路径" class="headerlink" title="2. android killer出马java反编译后到路径"></a>2. android killer出马java反编译后到路径</h3><blockquote>
<p>package com.yodo1.sdk.game.smspay;</p>
</blockquote>
<p>移动咪咕和支付接口,相关源码,直接上图.当然还有电信,联通的<br>关键在这个switch里,使他总是走case 1:支付成功.有时候需要向上层调用回溯才能定位到他支付校验的代码,让他支付校验的代码总是返回真即可.可以在最后的smali汇编代码里修该为这个样子.<br><strong>秒杀所有smspay支付</strong></p>
<blockquote>
<p>.class Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterCMCC$1;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “YgSmsPayAdapterCMCC.java”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    .line <span class="number">46</span></span><br><span class="line">    .local v0, <span class="string">&quot;result&quot;</span>:Ljava/lang/String;</span><br><span class="line">    goto :pswitch_0 #这里添加一句代码直接跳到支付成功witch等于<span class="number">0</span></span><br><span class="line">    packed-<span class="keyword">switch</span> p1, :pswitch_data_0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">46</span></span><br><span class="line">    :pswitch_data_0</span><br><span class="line">    .packed-<span class="keyword">switch</span> <span class="number">0x1</span></span><br><span class="line">        :pswitch_0  #全部调到:pswitch_0 支付成功分支  #:pswitch_0   #成功</span><br><span class="line">        :pswitch_0  #全部调到:pswitch_0 支付成功分支  #:pswitch_1   #失败</span><br><span class="line">        :pswitch_0  #全部调到:pswitch_0 支付成功分支  #:pswitch_2   #取消</span><br><span class="line">    .end packed-<span class="keyword">switch</span></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p><img src="/images/omg-td-001.png" alt="smspay"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onResult</span><span class="params">(<span class="type">int</span> arg0, String arg1, Object arg2)</span> &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> HttpNet.URL;</span><br><span class="line">                    <span class="keyword">switch</span> (arg0) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                            <span class="keyword">if</span> (!isRepeat) &#123;</span><br><span class="line">                                YgSmsPayAdapterBase.setPaid(activity2, str);</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (yodo14GameSmsPayListener != <span class="literal">null</span>) &#123;</span><br><span class="line">                                yodo14GameSmsPayListener.onSuccess();</span><br><span class="line">                            &#125;</span><br><span class="line">                            result = <span class="string">&quot;支付成功&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                            <span class="keyword">if</span> (yodo14GameSmsPayListener != <span class="literal">null</span>) &#123;</span><br><span class="line">                                yodo14GameSmsPayListener.onFailed();</span><br><span class="line">                            &#125;</span><br><span class="line">                            result = <span class="string">&quot;支付失败&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                            <span class="keyword">if</span> (yodo14GameSmsPayListener != <span class="literal">null</span>) &#123;</span><br><span class="line">                                yodo14GameSmsPayListener.onCanceled();</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">default</span>:</span><br><span class="line">                            <span class="keyword">if</span> (yodo14GameSmsPayListener != <span class="literal">null</span>) &#123;</span><br><span class="line">                                yodo14GameSmsPayListener.onFailed();</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (result != <span class="literal">null</span> &amp;&amp; result.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        Toast.makeText(activity2, result, <span class="number">0</span>).show();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-破解修改的另一处更简单的地方"><a href="#3-破解修改的另一处更简单的地方" class="headerlink" title="3. 破解修改的另一处更简单的地方:"></a>3. 破解修改的另一处更简单的地方:</h3><p>也可以试试修改这里<br>通过logcat定位到的字符串所在的类一个内部类或者嵌套类里</p>
<blockquote>
<p>successMessage or failedMessage is null</p>
</blockquote>
<p>android killer 找到下面这个类的smali文件</p>
<blockquote>
<p>.class Lcom/yodo1/sdk/game/Yodo14GameSmsPay$2;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “Yodo14GameSmsPay.java”</p>
</blockquote>
<p>删掉原来的.method public onCanceled()V方法实现,用下面的.method public onSuccess()V里的代码来替换.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">onCanceled</span><span class="params">()</span>V</span><br><span class="line">#这里的原先的代码块全删掉,用下面.method <span class="keyword">public</span> <span class="title function_">onSuccess</span><span class="params">()</span>V里的代码块填入这里</span><br><span class="line">#这样点取消,或者返回支付,就会走支付成功的流程.</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>改为:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">onCanceled</span><span class="params">()</span>V</span><br><span class="line">     .locals <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">180</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;val$activity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">    iget-object v1, p0, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;val$productId:Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0, v1&#125;, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterBase;-&gt;setPaid(Landroid/content/Context;Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">182</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;val$listener:Lcom/yodo1/sdk/game/Yodo14GameSmsPayListener;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v0, :cond_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">183</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;val$listener:Lcom/yodo1/sdk/game/Yodo14GameSmsPayListener;</span><br><span class="line"></span><br><span class="line">    invoke-interface &#123;v0&#125;, Lcom/yodo1/sdk/game/Yodo14GameSmsPayListener;-&gt;onSuccess()V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">185</span></span><br><span class="line">    :cond_0</span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;&#125;, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterBase;-&gt;getBillingSuccessMessageKey()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v0</span><br><span class="line"></span><br><span class="line">    invoke-direct &#123;p0, v0&#125;, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;showDialog(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">188</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;val$smsPayAdapter:Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterBase;</span><br><span class="line"></span><br><span class="line">    iget-object v1, p0, Lcom/yodo1/sdk/game/Yodo14GameSmsPay$<span class="number">2</span>;-&gt;val$productId:Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0, v1&#125;, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterBase;-&gt;onPayFinish(Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">189</span></span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>这几个函数接口原来的源码为:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onCanceled</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.val$listener != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val$listener.onCanceled();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.val$smsPayAdapter.onPayFinish(<span class="built_in">this</span>.val$productId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailed</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.val$listener != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val$listener.onFailed();</span><br><span class="line">    &#125;</span><br><span class="line">    showDialog(YgSmsPayAdapterBase.getBillingFailedMessageKey());</span><br><span class="line">    <span class="built_in">this</span>.val$smsPayAdapter.onPayFinish(<span class="built_in">this</span>.val$productId);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSuccess</span><span class="params">()</span></span><br><span class="line">  &#123;</span><br><span class="line">    YgSmsPayAdapterBase.setPaid(<span class="built_in">this</span>.val$activity, <span class="built_in">this</span>.val$productId);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.val$listener != <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.val$listener.onSuccess();</span><br><span class="line">    &#125;</span><br><span class="line">    showDialog(YgSmsPayAdapterBase.getBillingSuccessMessageKey());</span><br><span class="line">    <span class="built_in">this</span>.val$smsPayAdapter.onPayFinish(<span class="built_in">this</span>.val$productId);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-后记-一点总结和补充"><a href="#4-后记-一点总结和补充" class="headerlink" title="4. 后记(一点总结和补充):"></a>4. 后记(一点总结和补充):</h3><p>先破解电信支付(不弹窗支付窗口的,不弹消息的购买成功的修改方法有很多种),然后把联通和移动的接口强制改为电信接口.</p>
<h5 id="破解电信支付"><a href="#破解电信支付" class="headerlink" title="破解电信支付:"></a>破解电信支付:</h5><blockquote>
<p>.class Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterTelsub$1;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “YgSmsPayAdapterTelsub.java”</p>
</blockquote>
<p>用onSuccess函数,替换掉onCanceled,onFailed函数.修改smali汇编代码,变为下面这个样子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">payCancel</span><span class="params">(Ljava/lang/String;)</span>V</span><br><span class="line">    #替换为paySuccess函数体代码</span><br><span class="line">    .locals <span class="number">2</span></span><br><span class="line">    .param p1, <span class="string">&quot;arg0&quot;</span>    # Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    .line <span class="number">44</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterTelsub$<span class="number">1</span>;-&gt;val$listener:Lcom/yodo1/sdk/game/Yodo14GameSmsPayListener;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v0, :cond_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">45</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterTelsub$<span class="number">1</span>;-&gt;val$listener:Lcom/yodo1/sdk/game/Yodo14GameSmsPayListener;</span><br><span class="line"></span><br><span class="line">    invoke-interface &#123;v0&#125;, Lcom/yodo1/sdk/game/Yodo14GameSmsPayListener;-&gt;onSuccess()V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">46</span></span><br><span class="line">    iget-<span class="type">boolean</span> v0, p0, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterTelsub$<span class="number">1</span>;-&gt;val$isRepeated:Z</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-nez v0, :cond_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">47</span></span><br><span class="line">    iget-object v0, p0, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterTelsub$<span class="number">1</span>;-&gt;val$activity:Landroid/app/Activity;</span><br><span class="line"></span><br><span class="line">    iget-object v1, p0, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterTelsub$<span class="number">1</span>;-&gt;val$productId:Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    invoke-<span class="keyword">static</span> &#123;v0, v1&#125;, Lcom/yodo1/sdk/game/smspay/YgSmsPayAdapterBase;-&gt;setPaid(Landroid/content/Context;Ljava/lang/String;)V</span><br><span class="line"></span><br><span class="line">    .line <span class="number">50</span></span><br><span class="line">    :cond_0</span><br><span class="line">    <span class="keyword">return</span>-<span class="keyword">void</span></span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>


<h5 id="统一接口-强制改为电信的支付接口"><a href="#统一接口-强制改为电信的支付接口" class="headerlink" title="统一接口,强制改为电信的支付接口:"></a>统一接口,强制改为电信的支付接口:</h5><blockquote>
<p>.class public Lcom/talaya/share/utils/OperatorUtils;</p>
<p>.super Ljava/lang/Object;</p>
<p>.source “OperatorUtils.java”</p>
</blockquote>
<p>修改getOperatorChannelId让其所有条件下的返回值全部返回为2;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">getOperatorChannelId</span><span class="params">(Landroid/content/Context;)</span>I</span><br><span class="line">    .locals <span class="number">5</span></span><br><span class="line">    .param p0, <span class="string">&quot;context&quot;</span>    # Landroid/content/Context;</span><br><span class="line"></span><br><span class="line">    .prologue</span><br><span class="line">    const/<span class="number">4</span> v2, <span class="number">0x2</span>  #const/<span class="number">4</span> v2, <span class="number">0x0</span>  #默认分支 返回为<span class="number">0</span>,初始赋值变量v2</span><br><span class="line"></span><br><span class="line">    const/<span class="number">4</span> v3, <span class="number">0x2</span>  #const/<span class="number">4</span> v3, <span class="number">0x1</span>  #移动分支 返回为<span class="number">1</span>,初始赋值变量v3</span><br><span class="line"></span><br><span class="line">    .line <span class="number">26</span></span><br><span class="line">    const-string v4, <span class="string">&quot;phone&quot;</span></span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;p0, v4&#125;, Landroid/content/Context;-&gt;getSystemService(Ljava/lang/String;)Ljava/lang/Object;</span><br><span class="line"></span><br><span class="line">    move-result-object v1</span><br><span class="line"></span><br><span class="line">    check-cast v1, Landroid/telephony/TelephonyManager;</span><br><span class="line"></span><br><span class="line">    .line <span class="number">27</span></span><br><span class="line">    .local v1, <span class="string">&quot;phoneManager&quot;</span>:Landroid/telephony/TelephonyManager;</span><br><span class="line">    invoke-virtual &#123;v1&#125;, Landroid/telephony/TelephonyManager;-&gt;getSimOperator()Ljava/lang/String;</span><br><span class="line"></span><br><span class="line">    move-result-object v0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">28</span></span><br><span class="line">    .local v0, <span class="string">&quot;operator&quot;</span>:Ljava/lang/String;</span><br><span class="line">    <span class="keyword">if</span>-eqz v0, :cond_0</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0&#125;, Ljava/lang/String;-&gt;length()I</span><br><span class="line"></span><br><span class="line">    move-result v4</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-lt v4, v3, :cond_0</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v1&#125;, Landroid/telephony/TelephonyManager;-&gt;getSimState()I</span><br><span class="line"></span><br><span class="line">    move-result v4</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-ne v4, v3, :cond_1</span><br><span class="line"></span><br><span class="line">    .line <span class="number">41</span></span><br><span class="line">    :cond_0</span><br><span class="line">    :goto_0</span><br><span class="line">    <span class="keyword">return</span> v2   #默认分支 返回为<span class="number">0</span>,前面初始赋值过变量v2</span><br><span class="line"></span><br><span class="line">    .line <span class="number">31</span></span><br><span class="line">    :cond_1</span><br><span class="line">    const-string v4, <span class="string">&quot;46000&quot;</span> #中国移动分支</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0, v4&#125;, Ljava/lang/String;-&gt;startsWith(Ljava/lang/String;)Z</span><br><span class="line"></span><br><span class="line">    move-result v4</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-nez v4, :cond_2</span><br><span class="line"></span><br><span class="line">    const-string v4, <span class="string">&quot;46002&quot;</span> #中国移动分支</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0, v4&#125;, Ljava/lang/String;-&gt;startsWith(Ljava/lang/String;)Z</span><br><span class="line"></span><br><span class="line">    move-result v4</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-nez v4, :cond_2</span><br><span class="line"></span><br><span class="line">    const-string v4, <span class="string">&quot;46007&quot;</span> #中国移动分支</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0, v4&#125;, Ljava/lang/String;-&gt;startsWith(Ljava/lang/String;)Z</span><br><span class="line"></span><br><span class="line">    move-result v4</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v4, :cond_3</span><br><span class="line"></span><br><span class="line">    :cond_2</span><br><span class="line">    const/<span class="number">4</span> v2, <span class="number">0x2</span>  #<span class="number">0x2</span>代表电信  #move v2, v3 #移动分支 返回为<span class="number">1</span>,前面初始赋值过变量v3</span><br><span class="line"></span><br><span class="line">    .line <span class="number">32</span></span><br><span class="line">    goto :goto_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">34</span></span><br><span class="line">    :cond_3</span><br><span class="line">    const-string v3, <span class="string">&quot;46001&quot;</span>  #中国联通分支</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0, v3&#125;, Ljava/lang/String;-&gt;startsWith(Ljava/lang/String;)Z</span><br><span class="line"></span><br><span class="line">    move-result v3</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v3, :cond_4</span><br><span class="line"></span><br><span class="line">    .line <span class="number">35</span></span><br><span class="line">    const/<span class="number">4</span> v2, <span class="number">0x2</span>  #<span class="number">0x2</span>代表电信  #const/<span class="number">4</span> v2, <span class="number">0x4</span></span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line"></span><br><span class="line">    .line <span class="number">37</span></span><br><span class="line">    :cond_4</span><br><span class="line">    const-string v3, <span class="string">&quot;46003&quot;</span>  #中国电信分支</span><br><span class="line"></span><br><span class="line">    invoke-virtual &#123;v0, v3&#125;, Ljava/lang/String;-&gt;startsWith(Ljava/lang/String;)Z</span><br><span class="line"></span><br><span class="line">    move-result v3</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>-eqz v3, :cond_0   #默认分支</span><br><span class="line"></span><br><span class="line">    .line <span class="number">38</span></span><br><span class="line">    const/<span class="number">4</span> v2, <span class="number">0x2</span>  #<span class="number">0x2</span>代表电信</span><br><span class="line"></span><br><span class="line">    goto :goto_0</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<p>所以,以后遇到热门的支付的游戏,简单的破解步骤就是:</p>
<blockquote>
<p>先搜索”46003”,修改代码让它getOperatorChannelId全部返回2,即:中国电信,的接口；<br>然后用onSuccess函数,替换掉onCanceled,onFailed函数.也就是说,只要将对应的方法在Smali代码中全部替换成”???Success”的代码即到达在支付界面，无论点击“返回”或者“关闭”都能到达破解成功的效果。为了以防万一，还要可以将AndroidManifest.xml文件中的发送短信权限“android.permission.SEND_SMS”删除。</p>
</blockquote>
<p>可以尝试搜索的关键词:</p>
<blockquote>
<p>1、”Succeed”、”Fail”、”Cancel”、”Success”、”Failure”相应的关键词有“paySucceed””payFailed”、”payCanceled”和<br>有“onSucceed””onFailed”、”onCanceled”等等</p>
</blockquote>
<blockquote>
<p>2、”purchase”、”purchaseCode”、”pay”、”payCode”、”resultCode”、“onBillingFinish”等</p>
</blockquote>
<table>
<thead>
<tr>
<th>运营商网络</th>
<th>特征码</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>中国移动</td>
<td>46000、46002、46007</td>
<td></td>
</tr>
<tr>
<td>中国联通</td>
<td>46001、46006、46010</td>
<td></td>
</tr>
<tr>
<td>中国电信</td>
<td>46003、46005、46011</td>
<td></td>
</tr>
<tr>
<td>中国铁通</td>
<td>46020、</td>
<td>归属移动</td>
</tr>
</tbody></table>
<p>顺便说一句,保存软件数据和缓存配置卸载app的方法,相当于adb uninstall [-k] <package>.<br>可以直接在手机/data/app/文件夹里删掉类似com.yodo1.olympus.QIHU36001-1.apk文件.格式: [package包名]-x.apk的文件,x为1-N的数字.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/06/14/yodo1%E5%81%B6%E6%BB%B4%E7%A5%9E(%E6%9C%80SB%E5%A1%94%E9%98%B2)Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/" data-id="cl3j4iur5000h49jedpnyg346" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Crack/" rel="tag">Crack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android-killer/" rel="tag">android killer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jadx/" rel="tag">jadx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smali/" rel="tag">smali</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/smspay/" rel="tag">smspay</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/youdao1/" rel="tag">youdao1</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%86%85%E8%B4%AD/" rel="tag">内购</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-C的printf函数终端输出彩色字符(Unix,Linux,MacOS,Windows全平台适用)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/01/C%E7%9A%84printf%E5%87%BD%E6%95%B0%E7%BB%88%E7%AB%AF%E8%BE%93%E5%87%BA%E5%BD%A9%E8%89%B2%E5%AD%97%E7%AC%A6(Unix,Linux,MacOS,Windows%E5%85%A8%E5%B9%B3%E5%8F%B0%E9%80%82%E7%94%A8)/" class="article-date">
  <time datetime="2017-05-31T20:53:00.000Z" itemprop="datePublished">2017-06-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/macOS/">macOS</a>►<a class="article-category-link" href="/categories/macOS/%E7%AC%94%E8%AE%B0/">笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/01/C%E7%9A%84printf%E5%87%BD%E6%95%B0%E7%BB%88%E7%AB%AF%E8%BE%93%E5%87%BA%E5%BD%A9%E8%89%B2%E5%AD%97%E7%AC%A6(Unix,Linux,MacOS,Windows%E5%85%A8%E5%B9%B3%E5%8F%B0%E9%80%82%E7%94%A8)/">C的printf函数终端输出彩色字符(Unix,Linux,MacOS,Windows全平台适用)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="C的printf函数终端输出彩色字符-Unix-Linux-MacOS-Windows全平台适用-收藏"><a href="#C的printf函数终端输出彩色字符-Unix-Linux-MacOS-Windows全平台适用-收藏" class="headerlink" title="C的printf函数终端输出彩色字符(Unix,Linux,MacOS,Windows全平台适用)[收藏]"></a><strong>C的printf函数终端输出彩色字符(Unix,Linux,MacOS,Windows全平台适用)[收藏]</strong></h2><hr>
<p>6/1/2017 4:53:00 PM</p>
<p>在 ANSI 兼容终端（例如 xterm、rxvt、konsole 等）里， 可以用彩色显示文本而不仅仅是黑白。但是我们自己编写的程序能否输出彩色的字符呢？当然答案是肯定的。下面的语句就输出高亮的黑色背景的绿色字。</p>
<p>printf(“\033[1;40;32m%s\033[0m”, “Hello,PrintfColor.\n”);<br>\033 声明了转义序列的开始，然后是 [ 开始定义颜色。后面的 1 定义了高亮显示字符。然后是背景颜色，这里面是40，表示黑色背景。接着是前景颜色，这里面是32，表示绿色。我们用 \033[0m 关闭转义序列， \033[0m 是终端默认颜色。</p>
<p>通过上面的介绍，就知道了如何输出彩色字符了。因此，我就不再多说了。下面是对于彩色字符颜色的一些定义：</p>
<table>
<thead>
<tr>
<th>前景</th>
<th>背景</th>
<th>颜色</th>
</tr>
</thead>
<tbody><tr>
<td>30</td>
<td>40</td>
<td>黑色</td>
</tr>
<tr>
<td>31</td>
<td>41</td>
<td>紅色</td>
</tr>
<tr>
<td>32</td>
<td>42</td>
<td>綠色</td>
</tr>
<tr>
<td>33</td>
<td>43</td>
<td>黃色</td>
</tr>
<tr>
<td>34</td>
<td>44</td>
<td>藍色</td>
</tr>
<tr>
<td>35</td>
<td>45</td>
<td>紫紅色</td>
</tr>
<tr>
<td>36</td>
<td>46</td>
<td>青藍色</td>
</tr>
<tr>
<td>37</td>
<td>47</td>
<td>白色</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>代码</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>终端默认设置</td>
</tr>
<tr>
<td>1</td>
<td>高亮显示</td>
</tr>
<tr>
<td>4</td>
<td>使用下划线</td>
</tr>
<tr>
<td>5</td>
<td>闪烁</td>
</tr>
<tr>
<td>7</td>
<td>反白显示</td>
</tr>
<tr>
<td>8</td>
<td>不可见</td>
</tr>
</tbody></table>
<p>下面给出了一个C语言的示例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> attr[] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>&#125;;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> fore[] = &#123;<span class="number">30</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">34</span>,<span class="number">35</span>,<span class="number">36</span>,<span class="number">37</span>&#125;;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> back[] = &#123;<span class="number">40</span>,<span class="number">41</span>,<span class="number">42</span>,<span class="number">43</span>,<span class="number">44</span>,<span class="number">45</span>,<span class="number">46</span>,<span class="number">47</span>&#125;;</span><br><span class="line">    <span class="type">int</span> adx,fdx,bdx;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(bdx = <span class="number">0</span>; bdx &lt; <span class="keyword">sizeof</span>(back); bdx++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(fdx = <span class="number">0</span>; fdx &lt; <span class="keyword">sizeof</span>(fore); fdx++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(adx = <span class="number">0</span>; adx &lt; <span class="keyword">sizeof</span>(attr); adx++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\033[%d;%d;%dmHello,PrintfColor!!!\033[0m&quot;</span>,</span><br><span class="line">                    attr[adx],fore[fdx],back[bdx]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;&lt;==attr=%d,fore=%d,back=%d\n&quot;</span>,</span><br><span class="line">                    attr[adx],fore[fdx],back[bdx]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/06/01/C%E7%9A%84printf%E5%87%BD%E6%95%B0%E7%BB%88%E7%AB%AF%E8%BE%93%E5%87%BA%E5%BD%A9%E8%89%B2%E5%AD%97%E7%AC%A6(Unix,Linux,MacOS,Windows%E5%85%A8%E5%B9%B3%E5%8F%B0%E9%80%82%E7%94%A8)/" data-id="cl3j4iuqw000749je67vtgvy4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unix/" rel="tag">Unix</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/printf/" rel="tag">printf</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/printfcolor/" rel="tag">printfcolor</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%A8%E5%B9%B3%E5%8F%B0/" rel="tag">全平台</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Windows命令netsh设置IP和DNS" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/22/Windows%E5%91%BD%E4%BB%A4netsh%E8%AE%BE%E7%BD%AEIP%E5%92%8CDNS/" class="article-date">
  <time datetime="2017-05-22T10:41:47.000Z" itemprop="datePublished">2017-05-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Windows/">Windows</a>►<a class="article-category-link" href="/categories/Windows/%E7%AC%94%E8%AE%B0/">笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/22/Windows%E5%91%BD%E4%BB%A4netsh%E8%AE%BE%E7%BD%AEIP%E5%92%8CDNS/">Windows命令netsh设置IP和DNS</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Windows命令netsh设置IP和DNS"><a href="#Windows命令netsh设置IP和DNS" class="headerlink" title="Windows命令netsh设置IP和DNS"></a>Windows命令netsh设置IP和DNS</h3><hr>
<ul>
<li>今天去王总新搬的公司混饭吃,新办公地网络受公司要求必须要指定内部用的 IP 和 DNS.有个同事的电脑 Windows7网络设置一直闪退,没法界面设置 IP 和 DNS,后来我写了个简单的bat批处理用命令 netsh 来设置 IP 和 DNS 的. bat批处理代码如下:(可以更改相应 IP 地址适用于你自己)</li>
</ul>
<blockquote>
<p><a href="/uploads/codes/ip-netsh.bat">ip-netsh.bat</a></p>
<p><a href="/uploads/codes/%E5%86%85%E5%A4%96%E7%BD%91%E5%88%87%E6%8D%A2%E7%A8%8B%E5%BA%8F-zgrs&zgdx.ex">搞到一个人家的内外网切换工具–管理密码我破解了(￣▽￣)</a></p>
</blockquote>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">@<span class="built_in">echo</span> ==================</span><br><span class="line">@<span class="built_in">echo</span> 开始设置IP......</span><br><span class="line">@<span class="built_in">echo</span> ==================</span><br><span class="line"><span class="comment">@rem echo on</span></span><br><span class="line">:: 自动获取IP</span><br><span class="line">@<span class="built_in">echo</span> 自动获取DNS......</span><br><span class="line">::netsh interface ip <span class="built_in">set</span> address name=&quot;本地连接&quot; source=dhcp</span><br><span class="line">:: 设置静态IP</span><br><span class="line">@<span class="built_in">echo</span> 设置静态IP......</span><br><span class="line">netsh interface ip <span class="built_in">set</span> address name=&quot;本地连接&quot; source=static address=<span class="number">9</span>.<span class="number">236</span>.<span class="number">40</span>.<span class="number">71</span> mask=<span class="number">255</span>.<span class="number">255</span>.<span class="number">255</span>.<span class="number">192</span> gateway=<span class="number">9</span>.<span class="number">236</span>.<span class="number">40</span>.<span class="number">126</span> gwmetric=<span class="number">1</span></span><br><span class="line">@<span class="built_in">echo</span>;</span><br><span class="line">@<span class="built_in">echo</span> ==================</span><br><span class="line">@<span class="built_in">echo</span> 开始设置DNS......</span><br><span class="line">@<span class="built_in">echo</span> ==================</span><br><span class="line">:: 自动获取DNS</span><br><span class="line">@<span class="built_in">echo</span> 自动获取DNS......</span><br><span class="line">netsh interface ip <span class="built_in">set</span> dnsservers name=&quot;本地连接&quot; source=dhcp</span><br><span class="line">@<span class="built_in">echo</span> 添加主DNS......</span><br><span class="line">netsh interface ip add dnsservers name=&quot;本地连接&quot; address=<span class="number">9</span>.<span class="number">236</span>.<span class="number">5</span>.<span class="number">3</span>  index=<span class="number">1</span></span><br><span class="line">@<span class="built_in">echo</span> 添加副DNS......</span><br><span class="line">netsh interface ip add dnsservers name=&quot;本地连接&quot; address=<span class="number">202</span>.<span class="number">96</span>.<span class="number">128</span>.<span class="number">166</span>  index=<span class="number">2</span></span><br><span class="line">:: 设置静态DNS</span><br><span class="line">@<span class="built_in">echo</span> 修改设置注册主DNS......</span><br><span class="line">netsh interface ip <span class="built_in">set</span> dnsservers name=&quot;本地连接&quot; source=static address=<span class="number">9</span>.<span class="number">236</span>.<span class="number">5</span>.<span class="number">3</span>  register=primary</span><br><span class="line">@<span class="built_in">echo</span>,</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">@<span class="built_in">echo</span> ==================</span><br><span class="line">@<span class="built_in">echo</span> IP和DNS设置完毕<span class="variable">!!!</span></span><br><span class="line">@<span class="built_in">echo</span> ==================</span><br><span class="line">@<span class="built_in">pause</span></span><br><span class="line">@<span class="keyword">exit</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/05/22/Windows%E5%91%BD%E4%BB%A4netsh%E8%AE%BE%E7%BD%AEIP%E5%92%8CDNS/" data-id="cl3j4iuqy000949jecxbm4uox" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/netsh/" rel="tag">netsh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AEIP%E5%92%8CDNS/" rel="tag">命令设置IP和DNS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-为hexo博客主题添加漂亮的绶带GitHub-Ribbons" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/20/%E4%B8%BAhexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%BC%82%E4%BA%AE%E7%9A%84%E7%BB%B6%E5%B8%A6GitHub-Ribbons/" class="article-date">
  <time datetime="2017-05-20T10:07:37.000Z" itemprop="datePublished">2017-05-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Blog/">Blog</a>►<a class="article-category-link" href="/categories/Blog/hexo/">hexo</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/20/%E4%B8%BAhexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%BC%82%E4%BA%AE%E7%9A%84%E7%BB%B6%E5%B8%A6GitHub-Ribbons/">为hexo博客主题添加漂亮的绶带GitHub Ribbons</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="为hexo博客主题添加漂亮的绶带GitHub-Ribbons"><a href="#为hexo博客主题添加漂亮的绶带GitHub-Ribbons" class="headerlink" title="为hexo博客主题添加漂亮的绶带GitHub Ribbons"></a>为hexo博客主题添加漂亮的绶带GitHub Ribbons</h2><hr>
<h5 id="1-先去获取一份漂亮的绶带"><a href="#1-先去获取一份漂亮的绶带" class="headerlink" title="1. 先去获取一份漂亮的绶带,"></a>1. 先去获取一份漂亮的绶带,</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/blog/273-github-ribbons">https://github.com/blog/273-github-ribbons</a></p>
</blockquote>
<h5 id="2-然后将代码放在主题源码的layout-相关文件里-layout-ejs-或者-layout-swig-等等-比如-next-主题的-layout-layout-swig-文件的标签之前-或者放在你想放的位置-我自己就放在-layout-custom-header-swig-文件里-假如-你想像本文这样在单个页面里-你也可以将代码直接放在-md-文件的最下方"><a href="#2-然后将代码放在主题源码的layout-相关文件里-layout-ejs-或者-layout-swig-等等-比如-next-主题的-layout-layout-swig-文件的标签之前-或者放在你想放的位置-我自己就放在-layout-custom-header-swig-文件里-假如-你想像本文这样在单个页面里-你也可以将代码直接放在-md-文件的最下方" class="headerlink" title="2. 然后将代码放在主题源码的layout 相关文件里(layout.ejs 或者 layout.swig 等等),比如 next 主题的 layout/_layout.swig 文件的标签之前;或者放在你想放的位置,我自己就放在 layout/_custom/header.swig 文件里.假如,你想像本文这样在单个页面里,你也可以将代码直接放在 md 文件的最下方."></a>2. 然后将代码放在主题源码的layout 相关文件里(layout.ejs 或者 layout.swig 等等),比如 next 主题的 layout/_layout.swig 文件的</body>标签之前;或者放在你想放的位置,我自己就放在 layout/_custom/header.swig 文件里.假如,你想像本文这样在单个页面里,你也可以将代码直接放在 md 文件的最下方.</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;https://github.com/idone/&quot;&gt;</span><br><span class="line">  &lt;img style=&quot;position: absolute; top: 0; right: 0; border: 0; z-index: 100;&quot; src=&quot;https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67&quot; alt=&quot;Fork me on GitHub&quot; data-canonical-src=&quot;https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png&quot;&gt;</span><br><span class="line">&lt;/a&gt;</span><br></pre></td></tr></table></figure>



<a target="_blank" rel="noopener" href="https://github.com/idone/">
  <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
</a>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/05/20/%E4%B8%BAhexo%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%BC%82%E4%BA%AE%E7%9A%84%E7%BB%B6%E5%B8%A6GitHub-Ribbons/" data-id="cl3j4iur7000l49jega4x7rsa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ribbon/" rel="tag">Ribbon</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BB%B6%E5%B8%A6/" rel="tag">绶带</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-macOS下使用ssh实现免密码登录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/18/macOS%E4%B8%8B%E4%BD%BF%E7%94%A8ssh%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/" class="article-date">
  <time datetime="2017-05-18T09:30:00.000Z" itemprop="datePublished">2017-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/macOS/">macOS</a>►<a class="article-category-link" href="/categories/macOS/%E7%AC%94%E8%AE%B0/">笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/18/macOS%E4%B8%8B%E4%BD%BF%E7%94%A8ssh%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/">macOS下使用ssh实现免密码登录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="macOS下使用ssh实现免密码登录"><a href="#macOS下使用ssh实现免密码登录" class="headerlink" title="macOS下使用ssh实现免密码登录"></a>macOS下使用ssh实现免密码登录</h2><hr>
<p>5/18/2017 5:03:24 PM</p>
<h5 id="1-在客户机A-自己的这台macOS-上先生成公钥私钥对"><a href="#1-在客户机A-自己的这台macOS-上先生成公钥私钥对" class="headerlink" title="1. 在客户机A(自己的这台macOS)上先生成公钥私钥对:"></a>1. 在客户机A(自己的这台macOS)上先生成公钥私钥对:</h5><blockquote>
<p>ssh-keygen -t rsa -P ‘’</p>
</blockquote>
<p>-P表示密码，-P ‘’ 就表示空密码，也可以不用-P参数，这样就要三车回车，用-P就一次回车.</p>
<p>该命令将在~/.ssh目录下面产生一对密钥id_rsa和id_rsa.pub.<br>一般采用的ssh的rsa密钥:<br>id_rsa     私钥<br>id_rsa.pub 公钥<br>下述命令产生不同类型的密钥<br>ssh-keygen -t dsa<br>ssh-keygen -t rsa<br>ssh-keygen -t rsa1</p>
<h5 id="2-如果在Ubuntu服务器远程机B上没有-ssh-这个目录-要先创建好-ssh-这个目录-可以同样执行刚才上面在客户机A下生成公钥密钥对的命令-然后-把客户机下A的-ssh-id-rsa-pub-复制到Ubuntu服务器远程机B的-ssh-authorized-keys-文件里-用scp复制-由于还没有免密码登录的-所以要输入一次Ubuntu服务远程机的授权密码"><a href="#2-如果在Ubuntu服务器远程机B上没有-ssh-这个目录-要先创建好-ssh-这个目录-可以同样执行刚才上面在客户机A下生成公钥密钥对的命令-然后-把客户机下A的-ssh-id-rsa-pub-复制到Ubuntu服务器远程机B的-ssh-authorized-keys-文件里-用scp复制-由于还没有免密码登录的-所以要输入一次Ubuntu服务远程机的授权密码" class="headerlink" title="2. 如果在Ubuntu服务器远程机B上没有 ~/.ssh 这个目录,要先创建好 ~/.ssh 这个目录,可以同样执行刚才上面在客户机A下生成公钥密钥对的命令.然后,把客户机下A的 ~/.ssh/id_rsa.pub 复制到Ubuntu服务器远程机B的 ~/.ssh/authorized_keys 文件里,用scp复制.由于还没有免密码登录的,所以要输入一次Ubuntu服务远程机的授权密码."></a>2. 如果在Ubuntu服务器远程机B上没有 ~/.ssh 这个目录,要先创建好 ~/.ssh 这个目录,可以同样执行刚才上面在客户机A下生成公钥密钥对的命令.然后,把客户机下A的 ~/.ssh/id_rsa.pub 复制到Ubuntu服务器远程机B的 ~/.ssh/authorized_keys 文件里,用scp复制.由于还没有免密码登录的,所以要输入一次Ubuntu服务远程机的授权密码.</h5><blockquote>
<p>scp <del>/.ssh/id_rsa.pub <a href="mailto:&#105;&#x64;&#x6f;&#x6e;&#x65;&#x40;&#97;&#x32;&#111;&#110;&#115;&#x2e;&#99;&#x6f;&#109;">&#105;&#x64;&#x6f;&#x6e;&#x65;&#x40;&#97;&#x32;&#111;&#110;&#115;&#x2e;&#99;&#x6f;&#109;</a>:</del>/.ssh/authorized_keys</p>
</blockquote>
<p>或者,用</p>
<blockquote>
<p>pbcopy &lt; ~/.ssh/id_rsa.pub</p>
</blockquote>
<p>先复制到系统系统粘贴板然后登陆Ubuntu服务器远程机B去authorized_keys文件里粘贴.</p>
<h5 id="3-确保-ssh目录和文件authorized-keys的权限要是600以上"><a href="#3-确保-ssh目录和文件authorized-keys的权限要是600以上" class="headerlink" title="3. 确保.ssh目录和文件authorized_keys的权限要是600以上!!!"></a>3. 确保.ssh目录和文件authorized_keys的权限要是600以上!!!</h5><blockquote>
<p>chmod 600 ~/.ssh/authorized_keys</p>
</blockquote>
<p>如果想要想让A,B机无密码互登录，那在B机以上面同样的方式配置即可。</p>
<pre><code>YoungDonedeMacBook-Pro:~ iDone$ scp ~/.ssh/id_rsa.pub idone@a2ons.com:~/.ssh/authorized_keys
idone@a2ons.com&#39;s password:
id_rsa.pub100%  39712.7KB/s   00:00
YoungDonedeMacBook-Pro:~ iDone$ ssh idone@a2ons.com
Welcome to Ubuntu 16.04.2 LTS (GNU/Linux 4.4.0-63-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management: https://landscape.canonical.com
 * Support:https://ubuntu.com/advantage
=====================================================


Welcome to Alibaba Cloud Elastic Compute Service !

 --by Moc, iYoungDone

=====================================================
Last login: Thu May 18 16:27:08 2017 from 103.209.201.12
idone@AY1402261427509974f2Z:~$
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.appleos.xyz/2017/05/18/macOS%E4%B8%8B%E4%BD%BF%E7%94%A8ssh%E5%AE%9E%E7%8E%B0%E5%85%8D%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95/" data-id="cl3j4iur2000f49je0el6h778" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/authorized-keys/" rel="tag">authorized_keys</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macOS/" rel="tag">macOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pbcopy/" rel="tag">pbcopy</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/" rel="tag">远程登录</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/hexo/">hexo</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/%E7%AC%94%E8%AE%B0/">笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/macOS/">macOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/macOS/%E7%AC%94%E8%AE%B0/">笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/">逆向工程(Reverse Engineering)</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E6%B3%A8%E5%86%8C%E6%9C%BA-KeyGen/">注册机(KeyGen)</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/%E7%A0%B4%E8%A7%A3-Crack/">破解(Crack)</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Net/" rel="tag">.Net</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Net-Core/" rel="tag">.Net Core</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/23946/" rel="tag">23946</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/46003/" rel="tag">46003</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86/" rel="tag">AES高级加密标准</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Armadillo/" rel="tag">Armadillo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Charles/" rel="tag">Charles</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CodeMap/" rel="tag">CodeMap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CodeMap%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">CodeMap注册码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CodeMap%E8%AE%B8%E5%8F%AF%E8%AF%81/" rel="tag">CodeMap许可证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Comment-Extender/" rel="tag">Comment Extender</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Crack/" rel="tag">Crack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DEKE-TV/" rel="tag">DEKE TV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECC/" rel="tag">ECC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECDSA/" rel="tag">ECDSA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECDSA%E7%A7%81%E9%92%A5/" rel="tag">ECDSA私钥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Editor-View-Enhancer/" rel="tag">Editor View Enhancer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDA%E8%B0%83%E8%AF%95/" rel="tag">IDA调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JetBrains-decompiler/" rel="tag">JetBrains decompiler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Key/" rel="tag">Key</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KeyGen/" rel="tag">KeyGen</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KeyMaker/" rel="tag">KeyMaker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/License/" rel="tag">License</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Loader/" rel="tag">Loader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MacOS/" rel="tag">MacOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Packet-Capture/" rel="tag">Packet Capture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reflector/" rel="tag">Reflector</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ribbon/" rel="tag">Ribbon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rijndael%E7%AE%97%E6%B3%95/" rel="tag">Rijndael算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SoftwarePassport/" rel="tag">SoftwarePassport</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Supercharger/" rel="tag">Supercharger</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Supercharger%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">Supercharger注册码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Supercharger%E8%AE%B8%E5%8F%AF%E8%AF%81/" rel="tag">Supercharger许可证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/" rel="tag">Unix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS10X/" rel="tag">VS10X</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VisualStudio%E6%8F%92%E4%BB%B6/" rel="tag">VisualStudio插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-killer/" rel="tag">android killer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-server/" rel="tag">android_server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android%E8%B0%83%E8%AF%95/" rel="tag">android调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apk%E8%B0%83%E8%AF%95/" rel="tag">apk调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/authorized-keys/" rel="tag">authorized_keys</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axtools%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">axtools注册码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/base64/" rel="tag">base64</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dnSpy/" rel="tag">dnSpy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotPeek/" rel="tag">dotPeek</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/egame/" rel="tag">egame</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jadx/" rel="tag">jadx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javassist/" rel="tag">javassist</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsp/" rel="tag">jsp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ln/" rel="tag">ln</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logcat/" rel="tag">logcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macOS/" rel="tag">macOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/native/" rel="tag">native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netsh/" rel="tag">netsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nonpie/" rel="tag">nonpie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/patch%E5%85%AC%E9%92%A5/" rel="tag">patch公钥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pbcopy/" rel="tag">pbcopy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/printf/" rel="tag">printf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/printfcolor/" rel="tag">printfcolor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/signatures/" rel="tag">signatures</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/smali/" rel="tag">smali</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/smspay/" rel="tag">smspay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/so%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" rel="tag">so签名验证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/so%E8%B0%83%E8%AF%95/" rel="tag">so调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/youdao1/" rel="tag">youdao1</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E5%B9%B3%E5%8F%B0/" rel="tag">全平台</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E8%B4%AD/" rel="tag">内购</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%BB%E5%B9%BF%E5%91%8A/" rel="tag">去广告</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" rel="tag">去签名验证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AEIP%E5%92%8CDNS/" rel="tag">命令设置IP和DNS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%81%E5%8C%85/" rel="tag">封包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%93%E5%8C%85/" rel="tag">抓包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A0-root-%E6%8A%93%E5%8C%85/" rel="tag">无 root 抓包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E7%AE%97%E6%B3%95/" rel="tag">椭圆曲线算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E5%86%8C%E6%9C%BA/" rel="tag">注册机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E5%86%8C%E7%A0%81/" rel="tag">注册码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81-source/" rel="tag">源码(source)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" rel="tag">破解(Crack)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BF%E5%B1%B1%E7%94%B2%E5%A3%B3/" rel="tag">穿山甲壳</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9F/" rel="tag">穿山甲软件保护系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" rel="tag">签名验证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%B6%E5%B8%A6/" rel="tag">绶带</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%B8%E5%8F%AF%E8%AF%81/" rel="tag">许可证</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/" rel="tag">远程登录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" rel="tag">逆向工程(Reverse Engineering)</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Net/" style="font-size: 10px;">.Net</a> <a href="/tags/Net-Core/" style="font-size: 10px;">.Net Core</a> <a href="/tags/23946/" style="font-size: 10px;">23946</a> <a href="/tags/46003/" style="font-size: 10px;">46003</a> <a href="/tags/AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86/" style="font-size: 10px;">AES高级加密标准</a> <a href="/tags/Armadillo/" style="font-size: 10px;">Armadillo</a> <a href="/tags/C/" style="font-size: 10px;">C</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/Charles/" style="font-size: 10px;">Charles</a> <a href="/tags/CodeMap/" style="font-size: 10px;">CodeMap</a> <a href="/tags/CodeMap%E6%B3%A8%E5%86%8C%E7%A0%81/" style="font-size: 10px;">CodeMap注册码</a> <a href="/tags/CodeMap%E8%AE%B8%E5%8F%AF%E8%AF%81/" style="font-size: 10px;">CodeMap许可证</a> <a href="/tags/Comment-Extender/" style="font-size: 10px;">Comment Extender</a> <a href="/tags/Crack/" style="font-size: 18px;">Crack</a> <a href="/tags/DEKE-TV/" style="font-size: 10px;">DEKE TV</a> <a href="/tags/ECC/" style="font-size: 10px;">ECC</a> <a href="/tags/ECDSA/" style="font-size: 10px;">ECDSA</a> <a href="/tags/ECDSA%E7%A7%81%E9%92%A5/" style="font-size: 10px;">ECDSA私钥</a> <a href="/tags/Editor-View-Enhancer/" style="font-size: 10px;">Editor View Enhancer</a> <a href="/tags/IDA%E8%B0%83%E8%AF%95/" style="font-size: 10px;">IDA调试</a> <a href="/tags/Java/" style="font-size: 12px;">Java</a> <a href="/tags/JetBrains-decompiler/" style="font-size: 10px;">JetBrains decompiler</a> <a href="/tags/Key/" style="font-size: 12px;">Key</a> <a href="/tags/KeyGen/" style="font-size: 12px;">KeyGen</a> <a href="/tags/KeyMaker/" style="font-size: 12px;">KeyMaker</a> <a href="/tags/License/" style="font-size: 12px;">License</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Loader/" style="font-size: 10px;">Loader</a> <a href="/tags/MacOS/" style="font-size: 10px;">MacOS</a> <a href="/tags/Packet-Capture/" style="font-size: 10px;">Packet Capture</a> <a href="/tags/Reflector/" style="font-size: 10px;">Reflector</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/Rijndael%E7%AE%97%E6%B3%95/" style="font-size: 10px;">Rijndael算法</a> <a href="/tags/SoftwarePassport/" style="font-size: 10px;">SoftwarePassport</a> <a href="/tags/Supercharger/" style="font-size: 10px;">Supercharger</a> <a href="/tags/Supercharger%E6%B3%A8%E5%86%8C%E7%A0%81/" style="font-size: 10px;">Supercharger注册码</a> <a href="/tags/Supercharger%E8%AE%B8%E5%8F%AF%E8%AF%81/" style="font-size: 10px;">Supercharger许可证</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/Unix/" style="font-size: 10px;">Unix</a> <a href="/tags/VS10X/" style="font-size: 10px;">VS10X</a> <a href="/tags/VisualStudio%E6%8F%92%E4%BB%B6/" style="font-size: 10px;">VisualStudio插件</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/android/" style="font-size: 16px;">android</a> <a href="/tags/android-killer/" style="font-size: 14px;">android killer</a> <a href="/tags/android-server/" style="font-size: 10px;">android_server</a> <a href="/tags/android%E8%B0%83%E8%AF%95/" style="font-size: 10px;">android调试</a> <a href="/tags/apk%E8%B0%83%E8%AF%95/" style="font-size: 10px;">apk调试</a> <a href="/tags/authorized-keys/" style="font-size: 10px;">authorized_keys</a> <a href="/tags/axtools%E6%B3%A8%E5%86%8C%E7%A0%81/" style="font-size: 10px;">axtools注册码</a> <a href="/tags/base64/" style="font-size: 10px;">base64</a> <a href="/tags/dnSpy/" style="font-size: 10px;">dnSpy</a> <a href="/tags/dotPeek/" style="font-size: 10px;">dotPeek</a> <a href="/tags/egame/" style="font-size: 10px;">egame</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/jadx/" style="font-size: 14px;">jadx</a> <a href="/tags/java/" style="font-size: 14px;">java</a> <a href="/tags/javassist/" style="font-size: 10px;">javassist</a> <a href="/tags/jsp/" style="font-size: 10px;">jsp</a> <a href="/tags/ln/" style="font-size: 10px;">ln</a> <a href="/tags/logcat/" style="font-size: 10px;">logcat</a> <a href="/tags/macOS/" style="font-size: 10px;">macOS</a> <a href="/tags/native/" style="font-size: 10px;">native</a> <a href="/tags/netsh/" style="font-size: 10px;">netsh</a> <a href="/tags/nonpie/" style="font-size: 10px;">nonpie</a> <a href="/tags/patch%E5%85%AC%E9%92%A5/" style="font-size: 10px;">patch公钥</a> <a href="/tags/pbcopy/" style="font-size: 10px;">pbcopy</a> <a href="/tags/printf/" style="font-size: 10px;">printf</a> <a href="/tags/printfcolor/" style="font-size: 10px;">printfcolor</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/signatures/" style="font-size: 10px;">signatures</a> <a href="/tags/smali/" style="font-size: 14px;">smali</a> <a href="/tags/smspay/" style="font-size: 10px;">smspay</a> <a href="/tags/so%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" style="font-size: 10px;">so签名验证</a> <a href="/tags/so%E8%B0%83%E8%AF%95/" style="font-size: 10px;">so调试</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/youdao1/" style="font-size: 10px;">youdao1</a> <a href="/tags/%E5%85%A8%E5%B9%B3%E5%8F%B0/" style="font-size: 10px;">全平台</a> <a href="/tags/%E5%86%85%E8%B4%AD/" style="font-size: 14px;">内购</a> <a href="/tags/%E5%8E%BB%E5%B9%BF%E5%91%8A/" style="font-size: 10px;">去广告</a> <a href="/tags/%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" style="font-size: 10px;">去签名验证</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%AE%BE%E7%BD%AEIP%E5%92%8CDNS/" style="font-size: 10px;">命令设置IP和DNS</a> <a href="/tags/%E5%B0%81%E5%8C%85/" style="font-size: 10px;">封包</a> <a href="/tags/%E6%8A%93%E5%8C%85/" style="font-size: 10px;">抓包</a> <a href="/tags/%E6%97%A0-root-%E6%8A%93%E5%8C%85/" style="font-size: 10px;">无 root 抓包</a> <a href="/tags/%E6%A4%AD%E5%9C%86%E6%9B%B2%E7%BA%BF%E7%AE%97%E6%B3%95/" style="font-size: 10px;">椭圆曲线算法</a> <a href="/tags/%E6%B3%A8%E5%86%8C%E6%9C%BA/" style="font-size: 10px;">注册机</a> <a href="/tags/%E6%B3%A8%E5%86%8C%E7%A0%81/" style="font-size: 10px;">注册码</a> <a href="/tags/%E6%BA%90%E7%A0%81-source/" style="font-size: 10px;">源码(source)</a> <a href="/tags/%E7%A0%B4%E8%A7%A3-Crack/" style="font-size: 20px;">破解(Crack)</a> <a href="/tags/%E7%A9%BF%E5%B1%B1%E7%94%B2%E5%A3%B3/" style="font-size: 10px;">穿山甲壳</a> <a href="/tags/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">穿山甲软件保护系统</a> <a href="/tags/%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81/" style="font-size: 10px;">签名验证</a> <a href="/tags/%E7%BB%B6%E5%B8%A6/" style="font-size: 10px;">绶带</a> <a href="/tags/%E8%AE%B8%E5%8F%AF%E8%AF%81/" style="font-size: 10px;">许可证</a> <a href="/tags/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95/" style="font-size: 10px;">远程登录</a> <a href="/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B-Reverse-Engineering/" style="font-size: 20px;">逆向工程(Reverse Engineering)</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 16px;">随笔</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/06/01/%E7%A9%BF%E5%B1%B1%E7%94%B2%E8%BD%AF%E4%BB%B6%E4%BF%9D%E6%8A%A4%E7%B3%BB%E7%BB%9FSoftwarePassport%20Armadillo%20KeyGen/">穿山甲软件保护系统SoftwarePassport Armadillo KeyGen</a>
          </li>
        
          <li>
            <a href="/2018/02/04/Supercharger(VisualStudio%E6%8F%92%E4%BB%B6)AES%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86(Rijndael%E7%AE%97%E6%B3%95)%E6%B3%A8%E5%86%8C%E6%9C%BAKeyMaker/">Supercharger(VisualStudio插件)AES高级加密标准(Rijndael算法)注册机KeyMaker</a>
          </li>
        
          <li>
            <a href="/2017/07/25/%E4%BF%AE%E6%94%B9android_server%E9%BB%98%E8%AE%A4%E8%B0%83%E8%AF%95%E7%AB%AF%E5%8F%A3%E5%8F%B7%E5%8F%8D%E8%B0%83%E8%AF%95/">修改android_server默认调试端口号反调试</a>
          </li>
        
          <li>
            <a href="/2017/06/26/%E7%81%AB%E6%9F%B4%E4%BA%BA%E8%81%94%E7%9B%9F%E5%8E%BB%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81%E5%8E%BB%E5%B9%BF%E5%91%8AAndroid%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/">火柴人联盟去签名验证去广告Android内购破解</a>
          </li>
        
          <li>
            <a href="/2017/06/24/%E9%A5%A5%E9%A5%BF%E9%B2%A8%EF%BC%9A%E8%BF%9B%E5%8C%96%E5%8E%BBso%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81Android%E5%86%85%E8%B4%AD%E7%A0%B4%E8%A7%A3/">饥饿鲨：进化去so签名验证Android内购破解</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 YoungDone(B.S.)<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>